{"via":[{"type":"clojure.lang.ExceptionInfo","message":"ERROR: insert or update on table \"report_card\" violates foreign key constraint \"fk_report_card_ref_table_id\"\n  Detail: Key (table_id)=(1074) is not present in table \"metabase_table\".","data":{"toucan2/context-trace":[["execute SQL with class com.mchange.v2.c3p0.impl.NewProxyConnection",{"toucan2.jdbc.query/sql-args":["INSERT INTO \"report_card\" (\"description\", \"collection_position\", \"table_id\", \"result_metadata\", \"database_id\", \"collection_id\", \"query_type\", \"name\", \"type\", \"creator_id\", \"updated_at\", \"cache_ttl\", \"dataset_query\", \"parameter_mappings\", \"display\", \"entity_id\", \"visualization_settings\", \"metabase_version\", \"parameters\", \"created_at\") VALUES (NULL, NULL, ?, ?, ?, NULL, ?, ?, ?, ?, NOW(), NULL, ?, ?, ?, ?, ?, ?, ?, NOW())",1074,"[{\"description\":null,\"semantic_type\":\"type/Category\",\"coercion_strategy\":null,\"name\":\"job_number_job_name\",\"settings\":null,\"fk_target_field_id\":null,\"field_ref\":[\"field\",\"job_number_job_name\",{\"base-type\":\"type/Text\"}],\"effective_type\":\"type/Text\",\"id\":23838,\"visibility_type\":\"normal\",\"display_name\":\"Job Number Job Name\",\"fingerprint\":{\"global\":{\"distinct-count\":11,\"nil%\":0.0},\"type\":{\"type/Text\":{\"percent-json\":0.0,\"percent-url\":0.0,\"percent-email\":0.0,\"percent-state\":0.0,\"average-length\":24.454545454545453}}},\"base_type\":\"type/Text\"},{\"description\":null,\"semantic_type\":\"type/Category\",\"coercion_strategy\":null,\"name\":\"job_status\",\"settings\":null,\"fk_target_field_id\":null,\"field_ref\":[\"field\",\"job_status\",{\"base-type\":\"type/Text\"}],\"effective_type\":\"type/Text\",\"id\":23834,\"visibility_type\":\"normal\",\"display_name\":\"Job Status\",\"fingerprint\":{\"global\":{\"distinct-count\":2,\"nil%\":0.0},\"type\":{\"type/Text\":{\"percent-json\":0.0,\"percent-url\":0.0,\"percent-email\":0.0,\"percent-state\":0.0,\"average-length\":7.090909090909091}}},\"base_type\":\"type/Text\"},{\"description\":null,\"semantic_type\":null,\"coercion_strategy\":null,\"unit\":\"day\",\"name\":\"project_complete_date\",\"settings\":null,\"fk_target_field_id\":null,\"field_ref\":[\"field\",\"project_complete_date\",{\"base-type\":\"type/Date\",\"temporal-unit\":\"day\"}],\"effective_type\":\"type/Date\",\"id\":23797,\"visibility_type\":\"normal\",\"display_name\":\"Project Complete Date\",\"fingerprint\":{\"global\":{\"distinct-count\":6,\"nil%\":0.5454545454545455},\"type\":{\"type/DateTime\":{\"earliest\":\"2023-06-15\",\"latest\":\"2023-12-20\"}}},\"base_type\":\"type/Date\"},{\"description\":null,\"semantic_type\":\"type/Quantity\",\"coercion_strategy\":null,\"name\":\"job_number\",\"settings\":null,\"fk_target_field_id\":null,\"field_ref\":[\"field\",\"job_number\",{\"base-type\":\"type/BigInteger\"}],\"effective_type\":\"type/BigInteger\",\"id\":23779,\"visibility_type\":\"normal\",\"display_name\":\"Job Number\",\"fingerprint\":{\"global\":{\"distinct-count\":11,\"nil%\":0.0},\"type\":{\"type/Number\":{\"min\":1.0,\"q1\":202.5,\"q3\":221.75,\"max\":224.0,\"sd\":65.10425206055007,\"avg\":194.1818181818182}}},\"base_type\":\"type/BigInteger\"},{\"description\":null,\"semantic_type\":\"type/CreationDate\",\"coercion_strategy\":null,\"unit\":\"day\",\"name\":\"project_start_date\",\"settings\":null,\"fk_target_field_id\":null,\"field_ref\":[\"field\",\"project_start_date\",{\"base-type\":\"type/Date\",\"temporal-unit\":\"day\"}],\"effective_type\":\"type/Date\",\"id\":23825,\"visibility_type\":\"normal\",\"display_name\":\"Project Start Date\",\"fingerprint\":{\"global\":{\"distinct-count\":7,\"nil%\":0.3636363636363636},\"type\":{\"type/DateTime\":{\"earliest\":\"2023-01-01\",\"latest\":\"2023-07-01\"}}},\"base_type\":\"type/Date\"},{\"display_name\":\"Sum of Max of Sum of Total Contract Amount\",\"field_ref\":[\"aggregation\",0],\"base_type\":\"type/Decimal\",\"effective_type\":\"type/Decimal\",\"name\":\"sum\",\"semantic_type\":null,\"fingerprint\":{\"global\":{\"distinct-count\":90,\"nil%\":0.0},\"type\":{\"type/Number\":{\"min\":495442.89,\"q1\":2086013.4079999998,\"q3\":4080366.17,\"max\":4949246.37,\"sd\":1252951.107123079,\"avg\":3033128.6054444443}}}},{\"display_name\":\"Sum of Max of Sum of Original Budget Amount\",\"field_ref\":[\"aggregation\",1],\"base_type\":\"type/Decimal\",\"effective_type\":\"type/Decimal\",\"name\":\"sum_2\",\"semantic_type\":null,\"fingerprint\":{\"global\":{\"distinct-count\":90,\"nil%\":0.0},\"type\":{\"type/Number\":{\"min\":401355.87,\"q1\":1751413.4000000001,\"q3\":3653015.41,\"max\":4584438.29,\"sd\":1133736.8467942178,\"avg\":2681358.887888889}}}},{\"display_name\":\"Sum of Max of Sum of Estimated Gross Profit\",\"field_ref\":[\"aggregation\",2],\"base_type\":\"type/Decimal\",\"effective_type\":\"type/Decimal\",\"name\":\"sum_3\",\"semantic_type\":null,\"fingerprint\":{\"global\":{\"distinct-count\":90,\"nil%\":0.0},\"type\":{\"type/Number\":{\"min\":80827.34,\"q1\":208308.88,\"q3\":455984.89,\"max\":872811.84,\"sd\":190976.66698322596,\"avg\":348530.0317777778}}}},{\"display_name\":\"Sum of Percent Complete\",\"field_ref\":[\"aggregation\",3],\"base_type\":\"type/Float\",\"effective_type\":\"type/Float\",\"name\":\"sum_4\",\"semantic_type\":null,\"fingerprint\":{\"global\":{\"distinct-count\":90,\"nil%\":0.0},\"type\":{\"type/Number\":{\"min\":1.1052545141356636,\"q1\":1.1551811629755797,\"q3\":1.2627710770689522,\"max\":1.3279535641814848,\"sd\":0.06008772884630028,\"avg\":1.2102858811390649}}}},{\"display_name\":\"Sum of Max of Sum of Invoice Billed\",\"field_ref\":[\"aggregation\",4],\"base_type\":\"type/Decimal\",\"effective_type\":\"type/Decimal\",\"name\":\"sum_5\",\"semantic_type\":null,\"fingerprint\":{\"global\":{\"distinct-count\":90,\"nil%\":0.0},\"type\":{\"type/Number\":{\"min\":523059.38,\"q1\":1716116.4320465862,\"q3\":3628127.4698662874,\"max\":5985622.81,\"sd\":1306422.3244957437,\"avg\":2704105.5584444446}}}},{\"display_name\":\"Sum of Sum of Job Cost - Job Number → Cost Amount\",\"semantic_type\":\"type/Cost\",\"field_ref\":[\"aggregation\",5],\"base_type\":\"type/Decimal\",\"effective_type\":\"type/Decimal\",\"name\":\"sum_6\",\"fingerprint\":{\"global\":{\"distinct-count\":90,\"nil%\":0.0},\"type\":{\"type/Number\":{\"min\":524976.22,\"q1\":2215839.5375398253,\"q3\":4327029.73,\"max\":5302021.09,\"sd\":1331734.7924034817,\"avg\":3222347.431666667}}}},{\"display_name\":\"Sum of Income\",\"field_ref\":[\"aggregation\",6],\"base_type\":\"type/Decimal\",\"effective_type\":\"type/Decimal\",\"name\":\"sum_7\",\"semantic_type\":null,\"fingerprint\":{\"global\":{\"distinct-count\":90,\"nil%\":0.0},\"type\":{\"type/Number\":{\"min\":-2101899.68,\"q1\":-913744.58,\"q3\":-110658.31666666667,\"max\":954072.13,\"sd\":667612.0225940399,\"avg\":-518241.8732222222}}}},{\"display_name\":\"Sum of Overbilled\",\"field_ref\":[\"aggregation\",7],\"base_type\":\"type/Float\",\"effective_type\":\"type/Float\",\"name\":\"sum_8\",\"semantic_type\":null,\"fingerprint\":{\"global\":{\"distinct-count\":86,\"nil%\":0.0},\"type\":{\"type/Number\":{\"min\":0.0,\"q1\":458815.0102869356,\"q3\":1369394.4687608252,\"max\":2897381.432598487,\"sd\":705146.941761553,\"avg\":961661.5343914429}}}},{\"display_name\":\"Sum of Underbilled\",\"field_ref\":[\"aggregation\",8],\"base_type\":\"type/Float\",\"effective_type\":\"type/Float\",\"name\":\"sum_9\",\"semantic_type\":null,\"fingerprint\":{\"global\":{\"distinct-count\":6,\"nil%\":0.0},\"type\":{\"type/Number\":{\"min\":-477134.0879403041,\"q1\":-5876.42066786814,\"q3\":0.0,\"max\":0.0,\"sd\":63796.41414034546,\"avg\":-11899.668366520329}}}},{\"display_name\":\"Sum of Earned Revenue\",\"field_ref\":[\"aggregation\",9],\"base_type\":\"type/Float\",\"effective_type\":\"type/Float\",\"name\":\"sum_10\",\"semantic_type\":null,\"fingerprint\":{\"global\":{\"distinct-count\":90,\"nil%\":0.0},\"type\":{\"type/Number\":{\"min\":648042.6849570577,\"q1\":2583147.300623063,\"q3\":4946227.321589087,\"max\":6120291.709787362,\"sd\":1499252.5830974577,\"avg\":3653867.4244693676}}}},{\"display_name\":\"Sum of Cost of Revenue\",\"field_ref\":[\"aggregation\",10],\"base_type\":\"type/Float\",\"effective_type\":\"type/Float\",\"name\":\"sum_11\",\"semantic_type\":null,\"fingerprint\":{\"global\":{\"distinct-count\":90,\"nil%\":0.0},\"type\":{\"type/Number\":{\"min\":556601.1749570577,\"q1\":2280084.803752029,\"q3\":4423367.27164912,\"max\":5440820.769100577,\"sd\":1359427.6994888578,\"avg\":3305337.39269159}}}},{\"display_name\":\"Sum of Max of Gross Profit\",\"field_ref\":[\"aggregation\",11],\"base_type\":\"type/Decimal\",\"effective_type\":\"type/Decimal\",\"name\":\"sum_12\",\"semantic_type\":null,\"fingerprint\":{\"global\":{\"distinct-count\":90,\"nil%\":0.0},\"type\":{\"type/Number\":{\"min\":80827.34,\"q1\":208308.88,\"q3\":455984.89,\"max\":872811.84,\"sd\":190976.66698322596,\"avg\":348530.0317777778}}}}]",2,"query","Over / Under Billings","question",2,"{\"database\":2,\"type\":\"query\",\"query\":{\"expressions\":{\"Overbilled\":[\"case\",[[[\">\",[\"-\",[\"field\",\"Earned Revenue\",{\"base-type\":\"type/Float\"}],[\"field\",\"max_4\",{\"base-type\":\"type/Decimal\"}]],0],[\"-\",[\"field\",\"Earned Revenue\",{\"base-type\":\"type/Float\"}],[\"field\",\"max_4\",{\"base-type\":\"type/Decimal\"}]]]],{\"default\":0}],\"Underbilled\":[\"case\",[[[\"<\",[\"-\",[\"field\",\"Earned Revenue\",{\"base-type\":\"type/Float\"}],[\"field\",\"max_4\",{\"base-type\":\"type/Decimal\"}]],0],[\"-\",[\"field\",\"Earned Revenue\",{\"base-type\":\"type/Float\"}],[\"field\",\"max_4\",{\"base-type\":\"type/Decimal\"}]]]],{\"default\":0}],\"Cost of Revenue\":[\"-\",[\"field\",\"Earned Revenue\",{\"base-type\":\"type/Float\"}],[\"field\",\"max_6\",{\"base-type\":\"type/Decimal\"}]]},\"breakout\":[[\"field\",\"job_number_job_name\",{\"base-type\":\"type/Text\"}],[\"field\",\"job_status\",{\"base-type\":\"type/Text\"}],[\"field\",\"project_complete_date\",{\"base-type\":\"type/Date\",\"temporal-unit\":\"day\"}],[\"field\",\"job_number\",{\"base-type\":\"type/BigInteger\"}],[\"field\",\"project_start_date\",{\"base-type\":\"type/Date\",\"temporal-unit\":\"day\"}]],\"aggregation\":[[\"sum\",[\"field\",\"max\",{\"base-type\":\"type/Decimal\"}]],[\"sum\",[\"field\",\"max_2\",{\"base-type\":\"type/Decimal\"}]],[\"sum\",[\"field\",\"max_3\",{\"base-type\":\"type/Decimal\"}]],[\"sum\",[\"field\",\"Percent Complete\",{\"base-type\":\"type/Float\"}]],[\"sum\",[\"field\",\"max_4\",{\"base-type\":\"type/Decimal\"}]],[\"sum\",[\"field\",\"sum\",{\"base-type\":\"type/Decimal\"}]],[\"sum\",[\"field\",\"Income\",{\"base-type\":\"type/Decimal\"}]],[\"sum\",[\"expression\",\"Overbilled\",{\"base-type\":\"type/Float\"}]],[\"sum\",[\"expression\",\"Underbilled\",{\"base-type\":\"type/Float\"}]],[\"sum\",[\"field\",\"Earned Revenue\",{\"base-type\":\"type/Float\"}]],[\"sum\",[\"expression\",\"Cost of Revenue\",{\"base-type\":\"type/Float\"}]],[\"sum\",[\"field\",\"max_6\",{\"base-type\":\"type/Decimal\"}]]],\"source-query\":{\"joins\":[{\"strategy\":\"inner-join\",\"alias\":\"Job Cost - Job Number\",\"condition\":[\"=\",[\"field\",\"job_number\",{\"base-type\":\"type/BigInteger\"}],[\"field\",23899,{\"base-type\":\"type/BigInteger\",\"join-alias\":\"Job Cost - Job Number\"}]],\"source-table\":1077}],\"aggregation\":[[\"max\",[\"field\",\"sum\",{\"base-type\":\"type/Decimal\"}]],[\"max\",[\"field\",\"sum_3\",{\"base-type\":\"type/Decimal\"}]],[\"max\",[\"field\",\"sum_5\",{\"base-type\":\"type/Decimal\"}]],[\"aggregation-options\",[\"/\",[\"sum\",[\"field\",23893,{\"base-type\":\"type/Decimal\",\"join-alias\":\"Job Cost - Job Number\"}]],[\"max\",[\"field\",\"sum_3\",{\"base-type\":\"type/Decimal\"}]]],{\"name\":\"Percent Complete\",\"display-name\":\"Percent Complete\"}],[\"max\",[\"field\",\"sum_2\",{\"base-type\":\"type/Decimal\"}]],[\"sum\",[\"field\",23893,{\"base-type\":\"type/Decimal\",\"join-alias\":\"Job Cost - Job Number\"}]],[\"max\",[\"field\",\"sum_4\",{\"base-type\":\"type/Decimal\"}]],[\"aggregation-options\",[\"-\",[\"max\",[\"field\",\"sum_2\",{\"base-type\":\"type/Decimal\"}]],[\"sum\",[\"field\",23893,{\"base-type\":\"type/Decimal\",\"join-alias\":\"Job Cost - Job Number\"}]]],{\"name\":\"Income\",\"display-name\":\"Income\"}],[\"aggregation-options\",[\"*\",[\"max\",[\"field\",\"sum\",{\"base-type\":\"type/Decimal\"}]],[\"/\",[\"sum\",[\"field\",23893,{\"base-type\":\"type/Decimal\",\"join-alias\":\"Job Cost - Job Number\"}]],[\"max\",[\"field\",\"sum_3\",{\"base-type\":\"type/Decimal\"}]]]],{\"name\":\"Earned Revenue\",\"display-name\":\"Earned Revenue\"}],[\"max\",[\"field\",\"Gross Profit\",{\"base-type\":\"type/Decimal\"}]]],\"breakout\":[[\"field\",\"job_number_job_name\",{\"base-type\":\"type/Text\"}],[\"field\",\"job_number\",{\"base-type\":\"type/BigInteger\"}],[\"field\",\"job_status\",{\"base-type\":\"type/Text\"}],[\"field\",\"project_complete_date\",{\"base-type\":\"type/Date\",\"temporal-unit\":\"day\"}],[\"field\",\"project_start_date\",{\"base-type\":\"type/Date\",\"temporal-unit\":\"day\"}]],\"source-query\":{\"source-table\":1074,\"breakout\":[[\"field\",23838,{\"base-type\":\"type/Text\"}],[\"field\",23834,{\"base-type\":\"type/Text\"}],[\"field\",23779,{\"base-type\":\"type/BigInteger\"}],[\"field\",23797,{\"base-type\":\"type/Date\",\"temporal-unit\":\"day\"}],[\"field\",23825,{\"base-type\":\"type/Date\",\"temporal-unit\":\"day\"}]],\"aggregation\":[[\"sum\",[\"field\",23823,{\"base-type\":\"type/Decimal\"}]],[\"sum\",[\"field\",23805,{\"base-type\":\"type/Decimal\"}]],[\"sum\",[\"field\",23796,{\"base-type\":\"type/Decimal\"}]],[\"sum\",[\"field\",23791,{\"base-type\":\"type/Decimal\"}]],[\"sum\",[\"field\",23789,{\"base-type\":\"type/Decimal\"}]],[\"aggregation-options\",[\"-\",[\"sum\",[\"field\",23823,{\"base-type\":\"type/Decimal\"}]],[\"sum\",[\"field\",23791,{\"base-type\":\"type/Decimal\"}]]],{\"name\":\"Gross Profit\",\"display-name\":\"Gross Profit\"}]]}}}}","[]","table","1KsOFU0GOVKE23ntIPwiX","{\"table.column_formatting\":[{\"columns\":[\"sum_9\"],\"type\":\"single\",\"operator\":\"<\",\"value\":0,\"color\":\"#F7C4C4\",\"highlight_row\":true,\"id\":0}],\"table.pivot_column\":\"job_number_job_name\",\"table.cell_column\":\"sum\",\"table.columns\":[{\"name\":\"job_number_job_name\",\"enabled\":true},{\"name\":\"job_status\",\"enabled\":false},{\"name\":\"project_complete_date\",\"enabled\":false},{\"name\":\"sum\",\"enabled\":true},{\"name\":\"sum_2\",\"enabled\":true},{\"name\":\"sum_3\",\"enabled\":true},{\"name\":\"sum_4\",\"enabled\":true},{\"name\":\"sum_5\",\"enabled\":true},{\"name\":\"sum_6\",\"enabled\":true},{\"name\":\"sum_7\",\"enabled\":true},{\"name\":\"sum_8\",\"enabled\":true},{\"name\":\"sum_9\",\"enabled\":true},{\"name\":\"sum_10\",\"enabled\":true},{\"name\":\"sum_11\",\"enabled\":true},{\"name\":\"sum_12\",\"enabled\":true},{\"name\":\"job_number\",\"enabled\":false},{\"name\":\"project_start_date\",\"enabled\":false}],\"column_settings\":{\"[\\\"name\\\",\\\"sum_11\\\"]\":{\"column_title\":\"Cost of Revenue\",\"number_style\":\"currency\",\"currency_in_header\":false,\"decimals\":0},\"[\\\"name\\\",\\\"sum\\\"]\":{\"column_title\":\"Total Contract\",\"number_style\":\"currency\",\"currency_in_header\":false,\"decimals\":0},\"[\\\"name\\\",\\\"sum_6\\\"]\":{\"column_title\":\"Costs\",\"decimals\":0,\"currency_in_header\":false},\"[\\\"name\\\",\\\"sum_12\\\"]\":{\"column_title\":\"Gross Profit\",\"number_style\":\"currency\",\"currency_in_header\":false,\"decimals\":0},\"[\\\"name\\\",\\\"sum_2\\\"]\":{\"column_title\":\"Est. Cost at Completion\",\"number_style\":\"currency\",\"currency_in_header\":false,\"decimals\":0},\"[\\\"name\\\",\\\"sum_4\\\"]\":{\"column_title\":\"Percent Complete\",\"number_style\":\"percent\",\"decimals\":0},\"[\\\"name\\\",\\\"sum_7\\\"]\":{\"column_title\":\"Income\",\"number_style\":\"currency\",\"currency_in_header\":false,\"decimals\":0},\"[\\\"name\\\",\\\"sum_3\\\"]\":{\"column_title\":\"Estimated Gross Profit\",\"number_style\":\"currency\",\"currency_in_header\":false,\"decimals\":0},\"[\\\"name\\\",\\\"sum_5\\\"]\":{\"column_title\":\"Billed\",\"number_style\":\"currency\",\"currency_in_header\":false,\"decimals\":0},\"[\\\"name\\\",\\\"sum_9\\\"]\":{\"column_title\":\"Underbilled\",\"number_style\":\"currency\",\"currency_in_header\":false,\"decimals\":0},\"[\\\"name\\\",\\\"sum_10\\\"]\":{\"column_title\":\"Earned Revenue\",\"number_style\":\"currency\",\"currency_in_header\":false,\"decimals\":0},\"[\\\"name\\\",\\\"sum_8\\\"]\":{\"column_title\":\"Overbilled\",\"number_style\":\"currency\",\"currency_in_header\":false,\"decimals\":0}}}","v0.50.26 (5a65f46)","[]"]}],["resolve connection",{"toucan2.connection/connectable":"class org.postgresql.jdbc.PgConnection"}],["resolve connection",{"toucan2.connection/connectable":null}],{"toucan2.pipeline/rf":"clojure.core$map$fn__5931$fn__5932@7784d756"},["with compiled query",{"toucan2.pipeline/compiled-query":["INSERT INTO \"report_card\" (\"description\", \"collection_position\", \"table_id\", \"result_metadata\", \"database_id\", \"collection_id\", \"query_type\", \"name\", \"type\", \"creator_id\", \"updated_at\", \"cache_ttl\", \"dataset_query\", \"parameter_mappings\", \"display\", \"entity_id\", \"visualization_settings\", \"metabase_version\", \"parameters\", \"created_at\") VALUES (NULL, NULL, ?, ?, ?, NULL, ?, ?, ?, ?, NOW(), NULL, ?, ?, ?, ?, ?, ?, ?, NOW())",1074,"[{\"description\":null,\"semantic_type\":\"type/Category\",\"coercion_strategy\":null,\"name\":\"job_number_job_name\",\"settings\":null,\"fk_target_field_id\":null,\"field_ref\":[\"field\",\"job_number_job_name\",{\"base-type\":\"type/Text\"}],\"effective_type\":\"type/Text\",\"id\":23838,\"visibility_type\":\"normal\",\"display_name\":\"Job Number Job Name\",\"fingerprint\":{\"global\":{\"distinct-count\":11,\"nil%\":0.0},\"type\":{\"type/Text\":{\"percent-json\":0.0,\"percent-url\":0.0,\"percent-email\":0.0,\"percent-state\":0.0,\"average-length\":24.454545454545453}}},\"base_type\":\"type/Text\"},{\"description\":null,\"semantic_type\":\"type/Category\",\"coercion_strategy\":null,\"name\":\"job_status\",\"settings\":null,\"fk_target_field_id\":null,\"field_ref\":[\"field\",\"job_status\",{\"base-type\":\"type/Text\"}],\"effective_type\":\"type/Text\",\"id\":23834,\"visibility_type\":\"normal\",\"display_name\":\"Job Status\",\"fingerprint\":{\"global\":{\"distinct-count\":2,\"nil%\":0.0},\"type\":{\"type/Text\":{\"percent-json\":0.0,\"percent-url\":0.0,\"percent-email\":0.0,\"percent-state\":0.0,\"average-length\":7.090909090909091}}},\"base_type\":\"type/Text\"},{\"description\":null,\"semantic_type\":null,\"coercion_strategy\":null,\"unit\":\"day\",\"name\":\"project_complete_date\",\"settings\":null,\"fk_target_field_id\":null,\"field_ref\":[\"field\",\"project_complete_date\",{\"base-type\":\"type/Date\",\"temporal-unit\":\"day\"}],\"effective_type\":\"type/Date\",\"id\":23797,\"visibility_type\":\"normal\",\"display_name\":\"Project Complete Date\",\"fingerprint\":{\"global\":{\"distinct-count\":6,\"nil%\":0.5454545454545455},\"type\":{\"type/DateTime\":{\"earliest\":\"2023-06-15\",\"latest\":\"2023-12-20\"}}},\"base_type\":\"type/Date\"},{\"description\":null,\"semantic_type\":\"type/Quantity\",\"coercion_strategy\":null,\"name\":\"job_number\",\"settings\":null,\"fk_target_field_id\":null,\"field_ref\":[\"field\",\"job_number\",{\"base-type\":\"type/BigInteger\"}],\"effective_type\":\"type/BigInteger\",\"id\":23779,\"visibility_type\":\"normal\",\"display_name\":\"Job Number\",\"fingerprint\":{\"global\":{\"distinct-count\":11,\"nil%\":0.0},\"type\":{\"type/Number\":{\"min\":1.0,\"q1\":202.5,\"q3\":221.75,\"max\":224.0,\"sd\":65.10425206055007,\"avg\":194.1818181818182}}},\"base_type\":\"type/BigInteger\"},{\"description\":null,\"semantic_type\":\"type/CreationDate\",\"coercion_strategy\":null,\"unit\":\"day\",\"name\":\"project_start_date\",\"settings\":null,\"fk_target_field_id\":null,\"field_ref\":[\"field\",\"project_start_date\",{\"base-type\":\"type/Date\",\"temporal-unit\":\"day\"}],\"effective_type\":\"type/Date\",\"id\":23825,\"visibility_type\":\"normal\",\"display_name\":\"Project Start Date\",\"fingerprint\":{\"global\":{\"distinct-count\":7,\"nil%\":0.3636363636363636},\"type\":{\"type/DateTime\":{\"earliest\":\"2023-01-01\",\"latest\":\"2023-07-01\"}}},\"base_type\":\"type/Date\"},{\"display_name\":\"Sum of Max of Sum of Total Contract Amount\",\"field_ref\":[\"aggregation\",0],\"base_type\":\"type/Decimal\",\"effective_type\":\"type/Decimal\",\"name\":\"sum\",\"semantic_type\":null,\"fingerprint\":{\"global\":{\"distinct-count\":90,\"nil%\":0.0},\"type\":{\"type/Number\":{\"min\":495442.89,\"q1\":2086013.4079999998,\"q3\":4080366.17,\"max\":4949246.37,\"sd\":1252951.107123079,\"avg\":3033128.6054444443}}}},{\"display_name\":\"Sum of Max of Sum of Original Budget Amount\",\"field_ref\":[\"aggregation\",1],\"base_type\":\"type/Decimal\",\"effective_type\":\"type/Decimal\",\"name\":\"sum_2\",\"semantic_type\":null,\"fingerprint\":{\"global\":{\"distinct-count\":90,\"nil%\":0.0},\"type\":{\"type/Number\":{\"min\":401355.87,\"q1\":1751413.4000000001,\"q3\":3653015.41,\"max\":4584438.29,\"sd\":1133736.8467942178,\"avg\":2681358.887888889}}}},{\"display_name\":\"Sum of Max of Sum of Estimated Gross Profit\",\"field_ref\":[\"aggregation\",2],\"base_type\":\"type/Decimal\",\"effective_type\":\"type/Decimal\",\"name\":\"sum_3\",\"semantic_type\":null,\"fingerprint\":{\"global\":{\"distinct-count\":90,\"nil%\":0.0},\"type\":{\"type/Number\":{\"min\":80827.34,\"q1\":208308.88,\"q3\":455984.89,\"max\":872811.84,\"sd\":190976.66698322596,\"avg\":348530.0317777778}}}},{\"display_name\":\"Sum of Percent Complete\",\"field_ref\":[\"aggregation\",3],\"base_type\":\"type/Float\",\"effective_type\":\"type/Float\",\"name\":\"sum_4\",\"semantic_type\":null,\"fingerprint\":{\"global\":{\"distinct-count\":90,\"nil%\":0.0},\"type\":{\"type/Number\":{\"min\":1.1052545141356636,\"q1\":1.1551811629755797,\"q3\":1.2627710770689522,\"max\":1.3279535641814848,\"sd\":0.06008772884630028,\"avg\":1.2102858811390649}}}},{\"display_name\":\"Sum of Max of Sum of Invoice Billed\",\"field_ref\":[\"aggregation\",4],\"base_type\":\"type/Decimal\",\"effective_type\":\"type/Decimal\",\"name\":\"sum_5\",\"semantic_type\":null,\"fingerprint\":{\"global\":{\"distinct-count\":90,\"nil%\":0.0},\"type\":{\"type/Number\":{\"min\":523059.38,\"q1\":1716116.4320465862,\"q3\":3628127.4698662874,\"max\":5985622.81,\"sd\":1306422.3244957437,\"avg\":2704105.5584444446}}}},{\"display_name\":\"Sum of Sum of Job Cost - Job Number → Cost Amount\",\"semantic_type\":\"type/Cost\",\"field_ref\":[\"aggregation\",5],\"base_type\":\"type/Decimal\",\"effective_type\":\"type/Decimal\",\"name\":\"sum_6\",\"fingerprint\":{\"global\":{\"distinct-count\":90,\"nil%\":0.0},\"type\":{\"type/Number\":{\"min\":524976.22,\"q1\":2215839.5375398253,\"q3\":4327029.73,\"max\":5302021.09,\"sd\":1331734.7924034817,\"avg\":3222347.431666667}}}},{\"display_name\":\"Sum of Income\",\"field_ref\":[\"aggregation\",6],\"base_type\":\"type/Decimal\",\"effective_type\":\"type/Decimal\",\"name\":\"sum_7\",\"semantic_type\":null,\"fingerprint\":{\"global\":{\"distinct-count\":90,\"nil%\":0.0},\"type\":{\"type/Number\":{\"min\":-2101899.68,\"q1\":-913744.58,\"q3\":-110658.31666666667,\"max\":954072.13,\"sd\":667612.0225940399,\"avg\":-518241.8732222222}}}},{\"display_name\":\"Sum of Overbilled\",\"field_ref\":[\"aggregation\",7],\"base_type\":\"type/Float\",\"effective_type\":\"type/Float\",\"name\":\"sum_8\",\"semantic_type\":null,\"fingerprint\":{\"global\":{\"distinct-count\":86,\"nil%\":0.0},\"type\":{\"type/Number\":{\"min\":0.0,\"q1\":458815.0102869356,\"q3\":1369394.4687608252,\"max\":2897381.432598487,\"sd\":705146.941761553,\"avg\":961661.5343914429}}}},{\"display_name\":\"Sum of Underbilled\",\"field_ref\":[\"aggregation\",8],\"base_type\":\"type/Float\",\"effective_type\":\"type/Float\",\"name\":\"sum_9\",\"semantic_type\":null,\"fingerprint\":{\"global\":{\"distinct-count\":6,\"nil%\":0.0},\"type\":{\"type/Number\":{\"min\":-477134.0879403041,\"q1\":-5876.42066786814,\"q3\":0.0,\"max\":0.0,\"sd\":63796.41414034546,\"avg\":-11899.668366520329}}}},{\"display_name\":\"Sum of Earned Revenue\",\"field_ref\":[\"aggregation\",9],\"base_type\":\"type/Float\",\"effective_type\":\"type/Float\",\"name\":\"sum_10\",\"semantic_type\":null,\"fingerprint\":{\"global\":{\"distinct-count\":90,\"nil%\":0.0},\"type\":{\"type/Number\":{\"min\":648042.6849570577,\"q1\":2583147.300623063,\"q3\":4946227.321589087,\"max\":6120291.709787362,\"sd\":1499252.5830974577,\"avg\":3653867.4244693676}}}},{\"display_name\":\"Sum of Cost of Revenue\",\"field_ref\":[\"aggregation\",10],\"base_type\":\"type/Float\",\"effective_type\":\"type/Float\",\"name\":\"sum_11\",\"semantic_type\":null,\"fingerprint\":{\"global\":{\"distinct-count\":90,\"nil%\":0.0},\"type\":{\"type/Number\":{\"min\":556601.1749570577,\"q1\":2280084.803752029,\"q3\":4423367.27164912,\"max\":5440820.769100577,\"sd\":1359427.6994888578,\"avg\":3305337.39269159}}}},{\"display_name\":\"Sum of Max of Gross Profit\",\"field_ref\":[\"aggregation\",11],\"base_type\":\"type/Decimal\",\"effective_type\":\"type/Decimal\",\"name\":\"sum_12\",\"semantic_type\":null,\"fingerprint\":{\"global\":{\"distinct-count\":90,\"nil%\":0.0},\"type\":{\"type/Number\":{\"min\":80827.34,\"q1\":208308.88,\"q3\":455984.89,\"max\":872811.84,\"sd\":190976.66698322596,\"avg\":348530.0317777778}}}}]",2,"query","Over / Under Billings","question",2,"{\"database\":2,\"type\":\"query\",\"query\":{\"expressions\":{\"Overbilled\":[\"case\",[[[\">\",[\"-\",[\"field\",\"Earned Revenue\",{\"base-type\":\"type/Float\"}],[\"field\",\"max_4\",{\"base-type\":\"type/Decimal\"}]],0],[\"-\",[\"field\",\"Earned Revenue\",{\"base-type\":\"type/Float\"}],[\"field\",\"max_4\",{\"base-type\":\"type/Decimal\"}]]]],{\"default\":0}],\"Underbilled\":[\"case\",[[[\"<\",[\"-\",[\"field\",\"Earned Revenue\",{\"base-type\":\"type/Float\"}],[\"field\",\"max_4\",{\"base-type\":\"type/Decimal\"}]],0],[\"-\",[\"field\",\"Earned Revenue\",{\"base-type\":\"type/Float\"}],[\"field\",\"max_4\",{\"base-type\":\"type/Decimal\"}]]]],{\"default\":0}],\"Cost of Revenue\":[\"-\",[\"field\",\"Earned Revenue\",{\"base-type\":\"type/Float\"}],[\"field\",\"max_6\",{\"base-type\":\"type/Decimal\"}]]},\"breakout\":[[\"field\",\"job_number_job_name\",{\"base-type\":\"type/Text\"}],[\"field\",\"job_status\",{\"base-type\":\"type/Text\"}],[\"field\",\"project_complete_date\",{\"base-type\":\"type/Date\",\"temporal-unit\":\"day\"}],[\"field\",\"job_number\",{\"base-type\":\"type/BigInteger\"}],[\"field\",\"project_start_date\",{\"base-type\":\"type/Date\",\"temporal-unit\":\"day\"}]],\"aggregation\":[[\"sum\",[\"field\",\"max\",{\"base-type\":\"type/Decimal\"}]],[\"sum\",[\"field\",\"max_2\",{\"base-type\":\"type/Decimal\"}]],[\"sum\",[\"field\",\"max_3\",{\"base-type\":\"type/Decimal\"}]],[\"sum\",[\"field\",\"Percent Complete\",{\"base-type\":\"type/Float\"}]],[\"sum\",[\"field\",\"max_4\",{\"base-type\":\"type/Decimal\"}]],[\"sum\",[\"field\",\"sum\",{\"base-type\":\"type/Decimal\"}]],[\"sum\",[\"field\",\"Income\",{\"base-type\":\"type/Decimal\"}]],[\"sum\",[\"expression\",\"Overbilled\",{\"base-type\":\"type/Float\"}]],[\"sum\",[\"expression\",\"Underbilled\",{\"base-type\":\"type/Float\"}]],[\"sum\",[\"field\",\"Earned Revenue\",{\"base-type\":\"type/Float\"}]],[\"sum\",[\"expression\",\"Cost of Revenue\",{\"base-type\":\"type/Float\"}]],[\"sum\",[\"field\",\"max_6\",{\"base-type\":\"type/Decimal\"}]]],\"source-query\":{\"joins\":[{\"strategy\":\"inner-join\",\"alias\":\"Job Cost - Job Number\",\"condition\":[\"=\",[\"field\",\"job_number\",{\"base-type\":\"type/BigInteger\"}],[\"field\",23899,{\"base-type\":\"type/BigInteger\",\"join-alias\":\"Job Cost - Job Number\"}]],\"source-table\":1077}],\"aggregation\":[[\"max\",[\"field\",\"sum\",{\"base-type\":\"type/Decimal\"}]],[\"max\",[\"field\",\"sum_3\",{\"base-type\":\"type/Decimal\"}]],[\"max\",[\"field\",\"sum_5\",{\"base-type\":\"type/Decimal\"}]],[\"aggregation-options\",[\"/\",[\"sum\",[\"field\",23893,{\"base-type\":\"type/Decimal\",\"join-alias\":\"Job Cost - Job Number\"}]],[\"max\",[\"field\",\"sum_3\",{\"base-type\":\"type/Decimal\"}]]],{\"name\":\"Percent Complete\",\"display-name\":\"Percent Complete\"}],[\"max\",[\"field\",\"sum_2\",{\"base-type\":\"type/Decimal\"}]],[\"sum\",[\"field\",23893,{\"base-type\":\"type/Decimal\",\"join-alias\":\"Job Cost - Job Number\"}]],[\"max\",[\"field\",\"sum_4\",{\"base-type\":\"type/Decimal\"}]],[\"aggregation-options\",[\"-\",[\"max\",[\"field\",\"sum_2\",{\"base-type\":\"type/Decimal\"}]],[\"sum\",[\"field\",23893,{\"base-type\":\"type/Decimal\",\"join-alias\":\"Job Cost - Job Number\"}]]],{\"name\":\"Income\",\"display-name\":\"Income\"}],[\"aggregation-options\",[\"*\",[\"max\",[\"field\",\"sum\",{\"base-type\":\"type/Decimal\"}]],[\"/\",[\"sum\",[\"field\",23893,{\"base-type\":\"type/Decimal\",\"join-alias\":\"Job Cost - Job Number\"}]],[\"max\",[\"field\",\"sum_3\",{\"base-type\":\"type/Decimal\"}]]]],{\"name\":\"Earned Revenue\",\"display-name\":\"Earned Revenue\"}],[\"max\",[\"field\",\"Gross Profit\",{\"base-type\":\"type/Decimal\"}]]],\"breakout\":[[\"field\",\"job_number_job_name\",{\"base-type\":\"type/Text\"}],[\"field\",\"job_number\",{\"base-type\":\"type/BigInteger\"}],[\"field\",\"job_status\",{\"base-type\":\"type/Text\"}],[\"field\",\"project_complete_date\",{\"base-type\":\"type/Date\",\"temporal-unit\":\"day\"}],[\"field\",\"project_start_date\",{\"base-type\":\"type/Date\",\"temporal-unit\":\"day\"}]],\"source-query\":{\"source-table\":1074,\"breakout\":[[\"field\",23838,{\"base-type\":\"type/Text\"}],[\"field\",23834,{\"base-type\":\"type/Text\"}],[\"field\",23779,{\"base-type\":\"type/BigInteger\"}],[\"field\",23797,{\"base-type\":\"type/Date\",\"temporal-unit\":\"day\"}],[\"field\",23825,{\"base-type\":\"type/Date\",\"temporal-unit\":\"day\"}]],\"aggregation\":[[\"sum\",[\"field\",23823,{\"base-type\":\"type/Decimal\"}]],[\"sum\",[\"field\",23805,{\"base-type\":\"type/Decimal\"}]],[\"sum\",[\"field\",23796,{\"base-type\":\"type/Decimal\"}]],[\"sum\",[\"field\",23791,{\"base-type\":\"type/Decimal\"}]],[\"sum\",[\"field\",23789,{\"base-type\":\"type/Decimal\"}]],[\"aggregation-options\",[\"-\",[\"sum\",[\"field\",23823,{\"base-type\":\"type/Decimal\"}]],[\"sum\",[\"field\",23791,{\"base-type\":\"type/Decimal\"}]]],{\"name\":\"Gross Profit\",\"display-name\":\"Gross Profit\"}]]}}}}","[]","table","1KsOFU0GOVKE23ntIPwiX","{\"table.column_formatting\":[{\"columns\":[\"sum_9\"],\"type\":\"single\",\"operator\":\"<\",\"value\":0,\"color\":\"#F7C4C4\",\"highlight_row\":true,\"id\":0}],\"table.pivot_column\":\"job_number_job_name\",\"table.cell_column\":\"sum\",\"table.columns\":[{\"name\":\"job_number_job_name\",\"enabled\":true},{\"name\":\"job_status\",\"enabled\":false},{\"name\":\"project_complete_date\",\"enabled\":false},{\"name\":\"sum\",\"enabled\":true},{\"name\":\"sum_2\",\"enabled\":true},{\"name\":\"sum_3\",\"enabled\":true},{\"name\":\"sum_4\",\"enabled\":true},{\"name\":\"sum_5\",\"enabled\":true},{\"name\":\"sum_6\",\"enabled\":true},{\"name\":\"sum_7\",\"enabled\":true},{\"name\":\"sum_8\",\"enabled\":true},{\"name\":\"sum_9\",\"enabled\":true},{\"name\":\"sum_10\",\"enabled\":true},{\"name\":\"sum_11\",\"enabled\":true},{\"name\":\"sum_12\",\"enabled\":true},{\"name\":\"job_number\",\"enabled\":false},{\"name\":\"project_start_date\",\"enabled\":false}],\"column_settings\":{\"[\\\"name\\\",\\\"sum_11\\\"]\":{\"column_title\":\"Cost of Revenue\",\"number_style\":\"currency\",\"currency_in_header\":false,\"decimals\":0},\"[\\\"name\\\",\\\"sum\\\"]\":{\"column_title\":\"Total Contract\",\"number_style\":\"currency\",\"currency_in_header\":false,\"decimals\":0},\"[\\\"name\\\",\\\"sum_6\\\"]\":{\"column_title\":\"Costs\",\"decimals\":0,\"currency_in_header\":false},\"[\\\"name\\\",\\\"sum_12\\\"]\":{\"column_title\":\"Gross Profit\",\"number_style\":\"currency\",\"currency_in_header\":false,\"decimals\":0},\"[\\\"name\\\",\\\"sum_2\\\"]\":{\"column_title\":\"Est. Cost at Completion\",\"number_style\":\"currency\",\"currency_in_header\":false,\"decimals\":0},\"[\\\"name\\\",\\\"sum_4\\\"]\":{\"column_title\":\"Percent Complete\",\"number_style\":\"percent\",\"decimals\":0},\"[\\\"name\\\",\\\"sum_7\\\"]\":{\"column_title\":\"Income\",\"number_style\":\"currency\",\"currency_in_header\":false,\"decimals\":0},\"[\\\"name\\\",\\\"sum_3\\\"]\":{\"column_title\":\"Estimated Gross Profit\",\"number_style\":\"currency\",\"currency_in_header\":false,\"decimals\":0},\"[\\\"name\\\",\\\"sum_5\\\"]\":{\"column_title\":\"Billed\",\"number_style\":\"currency\",\"currency_in_header\":false,\"decimals\":0},\"[\\\"name\\\",\\\"sum_9\\\"]\":{\"column_title\":\"Underbilled\",\"number_style\":\"currency\",\"currency_in_header\":false,\"decimals\":0},\"[\\\"name\\\",\\\"sum_10\\\"]\":{\"column_title\":\"Earned Revenue\",\"number_style\":\"currency\",\"currency_in_header\":false,\"decimals\":0},\"[\\\"name\\\",\\\"sum_8\\\"]\":{\"column_title\":\"Overbilled\",\"number_style\":\"currency\",\"currency_in_header\":false,\"decimals\":0}}}","v0.50.26 (5a65f46)","[]"]}],["with built query",{"toucan2.pipeline/built-query":{"insert-into":["report_card"],"values":[["toucan2.instance/instance","model/Card",{"description":null,"collection_position":null,"table_id":1074,"result_metadata":"[{\"description\":null,\"semantic_type\":\"type/Category\",\"coercion_strategy\":null,\"name\":\"job_number_job_name\",\"settings\":null,\"fk_target_field_id\":null,\"field_ref\":[\"field\",\"job_number_job_name\",{\"base-type\":\"type/Text\"}],\"effective_type\":\"type/Text\",\"id\":23838,\"visibility_type\":\"normal\",\"display_name\":\"Job Number Job Name\",\"fingerprint\":{\"global\":{\"distinct-count\":11,\"nil%\":0.0},\"type\":{\"type/Text\":{\"percent-json\":0.0,\"percent-url\":0.0,\"percent-email\":0.0,\"percent-state\":0.0,\"average-length\":24.454545454545453}}},\"base_type\":\"type/Text\"},{\"description\":null,\"semantic_type\":\"type/Category\",\"coercion_strategy\":null,\"name\":\"job_status\",\"settings\":null,\"fk_target_field_id\":null,\"field_ref\":[\"field\",\"job_status\",{\"base-type\":\"type/Text\"}],\"effective_type\":\"type/Text\",\"id\":23834,\"visibility_type\":\"normal\",\"display_name\":\"Job Status\",\"fingerprint\":{\"global\":{\"distinct-count\":2,\"nil%\":0.0},\"type\":{\"type/Text\":{\"percent-json\":0.0,\"percent-url\":0.0,\"percent-email\":0.0,\"percent-state\":0.0,\"average-length\":7.090909090909091}}},\"base_type\":\"type/Text\"},{\"description\":null,\"semantic_type\":null,\"coercion_strategy\":null,\"unit\":\"day\",\"name\":\"project_complete_date\",\"settings\":null,\"fk_target_field_id\":null,\"field_ref\":[\"field\",\"project_complete_date\",{\"base-type\":\"type/Date\",\"temporal-unit\":\"day\"}],\"effective_type\":\"type/Date\",\"id\":23797,\"visibility_type\":\"normal\",\"display_name\":\"Project Complete Date\",\"fingerprint\":{\"global\":{\"distinct-count\":6,\"nil%\":0.5454545454545455},\"type\":{\"type/DateTime\":{\"earliest\":\"2023-06-15\",\"latest\":\"2023-12-20\"}}},\"base_type\":\"type/Date\"},{\"description\":null,\"semantic_type\":\"type/Quantity\",\"coercion_strategy\":null,\"name\":\"job_number\",\"settings\":null,\"fk_target_field_id\":null,\"field_ref\":[\"field\",\"job_number\",{\"base-type\":\"type/BigInteger\"}],\"effective_type\":\"type/BigInteger\",\"id\":23779,\"visibility_type\":\"normal\",\"display_name\":\"Job Number\",\"fingerprint\":{\"global\":{\"distinct-count\":11,\"nil%\":0.0},\"type\":{\"type/Number\":{\"min\":1.0,\"q1\":202.5,\"q3\":221.75,\"max\":224.0,\"sd\":65.10425206055007,\"avg\":194.1818181818182}}},\"base_type\":\"type/BigInteger\"},{\"description\":null,\"semantic_type\":\"type/CreationDate\",\"coercion_strategy\":null,\"unit\":\"day\",\"name\":\"project_start_date\",\"settings\":null,\"fk_target_field_id\":null,\"field_ref\":[\"field\",\"project_start_date\",{\"base-type\":\"type/Date\",\"temporal-unit\":\"day\"}],\"effective_type\":\"type/Date\",\"id\":23825,\"visibility_type\":\"normal\",\"display_name\":\"Project Start Date\",\"fingerprint\":{\"global\":{\"distinct-count\":7,\"nil%\":0.3636363636363636},\"type\":{\"type/DateTime\":{\"earliest\":\"2023-01-01\",\"latest\":\"2023-07-01\"}}},\"base_type\":\"type/Date\"},{\"display_name\":\"Sum of Max of Sum of Total Contract Amount\",\"field_ref\":[\"aggregation\",0],\"base_type\":\"type/Decimal\",\"effective_type\":\"type/Decimal\",\"name\":\"sum\",\"semantic_type\":null,\"fingerprint\":{\"global\":{\"distinct-count\":90,\"nil%\":0.0},\"type\":{\"type/Number\":{\"min\":495442.89,\"q1\":2086013.4079999998,\"q3\":4080366.17,\"max\":4949246.37,\"sd\":1252951.107123079,\"avg\":3033128.6054444443}}}},{\"display_name\":\"Sum of Max of Sum of Original Budget Amount\",\"field_ref\":[\"aggregation\",1],\"base_type\":\"type/Decimal\",\"effective_type\":\"type/Decimal\",\"name\":\"sum_2\",\"semantic_type\":null,\"fingerprint\":{\"global\":{\"distinct-count\":90,\"nil%\":0.0},\"type\":{\"type/Number\":{\"min\":401355.87,\"q1\":1751413.4000000001,\"q3\":3653015.41,\"max\":4584438.29,\"sd\":1133736.8467942178,\"avg\":2681358.887888889}}}},{\"display_name\":\"Sum of Max of Sum of Estimated Gross Profit\",\"field_ref\":[\"aggregation\",2],\"base_type\":\"type/Decimal\",\"effective_type\":\"type/Decimal\",\"name\":\"sum_3\",\"semantic_type\":null,\"fingerprint\":{\"global\":{\"distinct-count\":90,\"nil%\":0.0},\"type\":{\"type/Number\":{\"min\":80827.34,\"q1\":208308.88,\"q3\":455984.89,\"max\":872811.84,\"sd\":190976.66698322596,\"avg\":348530.0317777778}}}},{\"display_name\":\"Sum of Percent Complete\",\"field_ref\":[\"aggregation\",3],\"base_type\":\"type/Float\",\"effective_type\":\"type/Float\",\"name\":\"sum_4\",\"semantic_type\":null,\"fingerprint\":{\"global\":{\"distinct-count\":90,\"nil%\":0.0},\"type\":{\"type/Number\":{\"min\":1.1052545141356636,\"q1\":1.1551811629755797,\"q3\":1.2627710770689522,\"max\":1.3279535641814848,\"sd\":0.06008772884630028,\"avg\":1.2102858811390649}}}},{\"display_name\":\"Sum of Max of Sum of Invoice Billed\",\"field_ref\":[\"aggregation\",4],\"base_type\":\"type/Decimal\",\"effective_type\":\"type/Decimal\",\"name\":\"sum_5\",\"semantic_type\":null,\"fingerprint\":{\"global\":{\"distinct-count\":90,\"nil%\":0.0},\"type\":{\"type/Number\":{\"min\":523059.38,\"q1\":1716116.4320465862,\"q3\":3628127.4698662874,\"max\":5985622.81,\"sd\":1306422.3244957437,\"avg\":2704105.5584444446}}}},{\"display_name\":\"Sum of Sum of Job Cost - Job Number → Cost Amount\",\"semantic_type\":\"type/Cost\",\"field_ref\":[\"aggregation\",5],\"base_type\":\"type/Decimal\",\"effective_type\":\"type/Decimal\",\"name\":\"sum_6\",\"fingerprint\":{\"global\":{\"distinct-count\":90,\"nil%\":0.0},\"type\":{\"type/Number\":{\"min\":524976.22,\"q1\":2215839.5375398253,\"q3\":4327029.73,\"max\":5302021.09,\"sd\":1331734.7924034817,\"avg\":3222347.431666667}}}},{\"display_name\":\"Sum of Income\",\"field_ref\":[\"aggregation\",6],\"base_type\":\"type/Decimal\",\"effective_type\":\"type/Decimal\",\"name\":\"sum_7\",\"semantic_type\":null,\"fingerprint\":{\"global\":{\"distinct-count\":90,\"nil%\":0.0},\"type\":{\"type/Number\":{\"min\":-2101899.68,\"q1\":-913744.58,\"q3\":-110658.31666666667,\"max\":954072.13,\"sd\":667612.0225940399,\"avg\":-518241.8732222222}}}},{\"display_name\":\"Sum of Overbilled\",\"field_ref\":[\"aggregation\",7],\"base_type\":\"type/Float\",\"effective_type\":\"type/Float\",\"name\":\"sum_8\",\"semantic_type\":null,\"fingerprint\":{\"global\":{\"distinct-count\":86,\"nil%\":0.0},\"type\":{\"type/Number\":{\"min\":0.0,\"q1\":458815.0102869356,\"q3\":1369394.4687608252,\"max\":2897381.432598487,\"sd\":705146.941761553,\"avg\":961661.5343914429}}}},{\"display_name\":\"Sum of Underbilled\",\"field_ref\":[\"aggregation\",8],\"base_type\":\"type/Float\",\"effective_type\":\"type/Float\",\"name\":\"sum_9\",\"semantic_type\":null,\"fingerprint\":{\"global\":{\"distinct-count\":6,\"nil%\":0.0},\"type\":{\"type/Number\":{\"min\":-477134.0879403041,\"q1\":-5876.42066786814,\"q3\":0.0,\"max\":0.0,\"sd\":63796.41414034546,\"avg\":-11899.668366520329}}}},{\"display_name\":\"Sum of Earned Revenue\",\"field_ref\":[\"aggregation\",9],\"base_type\":\"type/Float\",\"effective_type\":\"type/Float\",\"name\":\"sum_10\",\"semantic_type\":null,\"fingerprint\":{\"global\":{\"distinct-count\":90,\"nil%\":0.0},\"type\":{\"type/Number\":{\"min\":648042.6849570577,\"q1\":2583147.300623063,\"q3\":4946227.321589087,\"max\":6120291.709787362,\"sd\":1499252.5830974577,\"avg\":3653867.4244693676}}}},{\"display_name\":\"Sum of Cost of Revenue\",\"field_ref\":[\"aggregation\",10],\"base_type\":\"type/Float\",\"effective_type\":\"type/Float\",\"name\":\"sum_11\",\"semantic_type\":null,\"fingerprint\":{\"global\":{\"distinct-count\":90,\"nil%\":0.0},\"type\":{\"type/Number\":{\"min\":556601.1749570577,\"q1\":2280084.803752029,\"q3\":4423367.27164912,\"max\":5440820.769100577,\"sd\":1359427.6994888578,\"avg\":3305337.39269159}}}},{\"display_name\":\"Sum of Max of Gross Profit\",\"field_ref\":[\"aggregation\",11],\"base_type\":\"type/Decimal\",\"effective_type\":\"type/Decimal\",\"name\":\"sum_12\",\"semantic_type\":null,\"fingerprint\":{\"global\":{\"distinct-count\":90,\"nil%\":0.0},\"type\":{\"type/Number\":{\"min\":80827.34,\"q1\":208308.88,\"q3\":455984.89,\"max\":872811.84,\"sd\":190976.66698322596,\"avg\":348530.0317777778}}}}]","database_id":2,"collection_id":null,"query_type":"query","name":"Over / Under Billings","type":"question","creator_id":2,"updated_at":["metabase.util.honey-sql-2/typed","%now",{"database-type":"timestamptz"}],"cache_ttl":null,"dataset_query":"{\"database\":2,\"type\":\"query\",\"query\":{\"expressions\":{\"Overbilled\":[\"case\",[[[\">\",[\"-\",[\"field\",\"Earned Revenue\",{\"base-type\":\"type/Float\"}],[\"field\",\"max_4\",{\"base-type\":\"type/Decimal\"}]],0],[\"-\",[\"field\",\"Earned Revenue\",{\"base-type\":\"type/Float\"}],[\"field\",\"max_4\",{\"base-type\":\"type/Decimal\"}]]]],{\"default\":0}],\"Underbilled\":[\"case\",[[[\"<\",[\"-\",[\"field\",\"Earned Revenue\",{\"base-type\":\"type/Float\"}],[\"field\",\"max_4\",{\"base-type\":\"type/Decimal\"}]],0],[\"-\",[\"field\",\"Earned Revenue\",{\"base-type\":\"type/Float\"}],[\"field\",\"max_4\",{\"base-type\":\"type/Decimal\"}]]]],{\"default\":0}],\"Cost of Revenue\":[\"-\",[\"field\",\"Earned Revenue\",{\"base-type\":\"type/Float\"}],[\"field\",\"max_6\",{\"base-type\":\"type/Decimal\"}]]},\"breakout\":[[\"field\",\"job_number_job_name\",{\"base-type\":\"type/Text\"}],[\"field\",\"job_status\",{\"base-type\":\"type/Text\"}],[\"field\",\"project_complete_date\",{\"base-type\":\"type/Date\",\"temporal-unit\":\"day\"}],[\"field\",\"job_number\",{\"base-type\":\"type/BigInteger\"}],[\"field\",\"project_start_date\",{\"base-type\":\"type/Date\",\"temporal-unit\":\"day\"}]],\"aggregation\":[[\"sum\",[\"field\",\"max\",{\"base-type\":\"type/Decimal\"}]],[\"sum\",[\"field\",\"max_2\",{\"base-type\":\"type/Decimal\"}]],[\"sum\",[\"field\",\"max_3\",{\"base-type\":\"type/Decimal\"}]],[\"sum\",[\"field\",\"Percent Complete\",{\"base-type\":\"type/Float\"}]],[\"sum\",[\"field\",\"max_4\",{\"base-type\":\"type/Decimal\"}]],[\"sum\",[\"field\",\"sum\",{\"base-type\":\"type/Decimal\"}]],[\"sum\",[\"field\",\"Income\",{\"base-type\":\"type/Decimal\"}]],[\"sum\",[\"expression\",\"Overbilled\",{\"base-type\":\"type/Float\"}]],[\"sum\",[\"expression\",\"Underbilled\",{\"base-type\":\"type/Float\"}]],[\"sum\",[\"field\",\"Earned Revenue\",{\"base-type\":\"type/Float\"}]],[\"sum\",[\"expression\",\"Cost of Revenue\",{\"base-type\":\"type/Float\"}]],[\"sum\",[\"field\",\"max_6\",{\"base-type\":\"type/Decimal\"}]]],\"source-query\":{\"joins\":[{\"strategy\":\"inner-join\",\"alias\":\"Job Cost - Job Number\",\"condition\":[\"=\",[\"field\",\"job_number\",{\"base-type\":\"type/BigInteger\"}],[\"field\",23899,{\"base-type\":\"type/BigInteger\",\"join-alias\":\"Job Cost - Job Number\"}]],\"source-table\":1077}],\"aggregation\":[[\"max\",[\"field\",\"sum\",{\"base-type\":\"type/Decimal\"}]],[\"max\",[\"field\",\"sum_3\",{\"base-type\":\"type/Decimal\"}]],[\"max\",[\"field\",\"sum_5\",{\"base-type\":\"type/Decimal\"}]],[\"aggregation-options\",[\"/\",[\"sum\",[\"field\",23893,{\"base-type\":\"type/Decimal\",\"join-alias\":\"Job Cost - Job Number\"}]],[\"max\",[\"field\",\"sum_3\",{\"base-type\":\"type/Decimal\"}]]],{\"name\":\"Percent Complete\",\"display-name\":\"Percent Complete\"}],[\"max\",[\"field\",\"sum_2\",{\"base-type\":\"type/Decimal\"}]],[\"sum\",[\"field\",23893,{\"base-type\":\"type/Decimal\",\"join-alias\":\"Job Cost - Job Number\"}]],[\"max\",[\"field\",\"sum_4\",{\"base-type\":\"type/Decimal\"}]],[\"aggregation-options\",[\"-\",[\"max\",[\"field\",\"sum_2\",{\"base-type\":\"type/Decimal\"}]],[\"sum\",[\"field\",23893,{\"base-type\":\"type/Decimal\",\"join-alias\":\"Job Cost - Job Number\"}]]],{\"name\":\"Income\",\"display-name\":\"Income\"}],[\"aggregation-options\",[\"*\",[\"max\",[\"field\",\"sum\",{\"base-type\":\"type/Decimal\"}]],[\"/\",[\"sum\",[\"field\",23893,{\"base-type\":\"type/Decimal\",\"join-alias\":\"Job Cost - Job Number\"}]],[\"max\",[\"field\",\"sum_3\",{\"base-type\":\"type/Decimal\"}]]]],{\"name\":\"Earned Revenue\",\"display-name\":\"Earned Revenue\"}],[\"max\",[\"field\",\"Gross Profit\",{\"base-type\":\"type/Decimal\"}]]],\"breakout\":[[\"field\",\"job_number_job_name\",{\"base-type\":\"type/Text\"}],[\"field\",\"job_number\",{\"base-type\":\"type/BigInteger\"}],[\"field\",\"job_status\",{\"base-type\":\"type/Text\"}],[\"field\",\"project_complete_date\",{\"base-type\":\"type/Date\",\"temporal-unit\":\"day\"}],[\"field\",\"project_start_date\",{\"base-type\":\"type/Date\",\"temporal-unit\":\"day\"}]],\"source-query\":{\"source-table\":1074,\"breakout\":[[\"field\",23838,{\"base-type\":\"type/Text\"}],[\"field\",23834,{\"base-type\":\"type/Text\"}],[\"field\",23779,{\"base-type\":\"type/BigInteger\"}],[\"field\",23797,{\"base-type\":\"type/Date\",\"temporal-unit\":\"day\"}],[\"field\",23825,{\"base-type\":\"type/Date\",\"temporal-unit\":\"day\"}]],\"aggregation\":[[\"sum\",[\"field\",23823,{\"base-type\":\"type/Decimal\"}]],[\"sum\",[\"field\",23805,{\"base-type\":\"type/Decimal\"}]],[\"sum\",[\"field\",23796,{\"base-type\":\"type/Decimal\"}]],[\"sum\",[\"field\",23791,{\"base-type\":\"type/Decimal\"}]],[\"sum\",[\"field\",23789,{\"base-type\":\"type/Decimal\"}]],[\"aggregation-options\",[\"-\",[\"sum\",[\"field\",23823,{\"base-type\":\"type/Decimal\"}]],[\"sum\",[\"field\",23791,{\"base-type\":\"type/Decimal\"}]]],{\"name\":\"Gross Profit\",\"display-name\":\"Gross Profit\"}]]}}}}","parameter_mappings":"[]","display":"table","entity_id":"1KsOFU0GOVKE23ntIPwiX","visualization_settings":"{\"table.column_formatting\":[{\"columns\":[\"sum_9\"],\"type\":\"single\",\"operator\":\"<\",\"value\":0,\"color\":\"#F7C4C4\",\"highlight_row\":true,\"id\":0}],\"table.pivot_column\":\"job_number_job_name\",\"table.cell_column\":\"sum\",\"table.columns\":[{\"name\":\"job_number_job_name\",\"enabled\":true},{\"name\":\"job_status\",\"enabled\":false},{\"name\":\"project_complete_date\",\"enabled\":false},{\"name\":\"sum\",\"enabled\":true},{\"name\":\"sum_2\",\"enabled\":true},{\"name\":\"sum_3\",\"enabled\":true},{\"name\":\"sum_4\",\"enabled\":true},{\"name\":\"sum_5\",\"enabled\":true},{\"name\":\"sum_6\",\"enabled\":true},{\"name\":\"sum_7\",\"enabled\":true},{\"name\":\"sum_8\",\"enabled\":true},{\"name\":\"sum_9\",\"enabled\":true},{\"name\":\"sum_10\",\"enabled\":true},{\"name\":\"sum_11\",\"enabled\":true},{\"name\":\"sum_12\",\"enabled\":true},{\"name\":\"job_number\",\"enabled\":false},{\"name\":\"project_start_date\",\"enabled\":false}],\"column_settings\":{\"[\\\"name\\\",\\\"sum_11\\\"]\":{\"column_title\":\"Cost of Revenue\",\"number_style\":\"currency\",\"currency_in_header\":false,\"decimals\":0},\"[\\\"name\\\",\\\"sum\\\"]\":{\"column_title\":\"Total Contract\",\"number_style\":\"currency\",\"currency_in_header\":false,\"decimals\":0},\"[\\\"name\\\",\\\"sum_6\\\"]\":{\"column_title\":\"Costs\",\"decimals\":0,\"currency_in_header\":false},\"[\\\"name\\\",\\\"sum_12\\\"]\":{\"column_title\":\"Gross Profit\",\"number_style\":\"currency\",\"currency_in_header\":false,\"decimals\":0},\"[\\\"name\\\",\\\"sum_2\\\"]\":{\"column_title\":\"Est. Cost at Completion\",\"number_style\":\"currency\",\"currency_in_header\":false,\"decimals\":0},\"[\\\"name\\\",\\\"sum_4\\\"]\":{\"column_title\":\"Percent Complete\",\"number_style\":\"percent\",\"decimals\":0},\"[\\\"name\\\",\\\"sum_7\\\"]\":{\"column_title\":\"Income\",\"number_style\":\"currency\",\"currency_in_header\":false,\"decimals\":0},\"[\\\"name\\\",\\\"sum_3\\\"]\":{\"column_title\":\"Estimated Gross Profit\",\"number_style\":\"currency\",\"currency_in_header\":false,\"decimals\":0},\"[\\\"name\\\",\\\"sum_5\\\"]\":{\"column_title\":\"Billed\",\"number_style\":\"currency\",\"currency_in_header\":false,\"decimals\":0},\"[\\\"name\\\",\\\"sum_9\\\"]\":{\"column_title\":\"Underbilled\",\"number_style\":\"currency\",\"currency_in_header\":false,\"decimals\":0},\"[\\\"name\\\",\\\"sum_10\\\"]\":{\"column_title\":\"Earned Revenue\",\"number_style\":\"currency\",\"currency_in_header\":false,\"decimals\":0},\"[\\\"name\\\",\\\"sum_8\\\"]\":{\"column_title\":\"Overbilled\",\"number_style\":\"currency\",\"currency_in_header\":false,\"decimals\":0}}}","metabase_version":"v0.50.26 (5a65f46)","parameters":"[]","created_at":["metabase.util.honey-sql-2/typed","%now",{"database-type":"timestamptz"}]}]]}}],["resolve connection",{"toucan2.connection/connectable":"class org.postgresql.jdbc.PgConnection"}],["resolve connection",{"toucan2.connection/connectable":null}],["with resolved query",{"toucan2.pipeline/resolved-query":{}}],["with parsed args",{"toucan2.pipeline/query-type":"toucan.query-type/insert.instances","toucan2.pipeline/parsed-args":{"rows":[{"description":null,"collection_position":null,"result_metadata":[{"description":null,"semantic_type":"type/Category","coercion_strategy":null,"name":"job_number_job_name","settings":null,"fk_target_field_id":null,"field_ref":["field","job_number_job_name",{"base-type":"type/Text"}],"effective_type":"type/Text","id":23838,"visibility_type":"normal","display_name":"Job Number Job Name","fingerprint":{"global":{"distinct-count":11,"nil%":0.0},"type":{"type/Text":{"percent-json":0.0,"percent-url":0.0,"percent-email":0.0,"percent-state":0.0,"average-length":24.454545454545453}}},"base_type":"type/Text"},{"description":null,"semantic_type":"type/Category","coercion_strategy":null,"name":"job_status","settings":null,"fk_target_field_id":null,"field_ref":["field","job_status",{"base-type":"type/Text"}],"effective_type":"type/Text","id":23834,"visibility_type":"normal","display_name":"Job Status","fingerprint":{"global":{"distinct-count":2,"nil%":0.0},"type":{"type/Text":{"percent-json":0.0,"percent-url":0.0,"percent-email":0.0,"percent-state":0.0,"average-length":7.090909090909091}}},"base_type":"type/Text"},{"description":null,"semantic_type":null,"coercion_strategy":null,"unit":"day","name":"project_complete_date","settings":null,"fk_target_field_id":null,"field_ref":["field","project_complete_date",{"base-type":"type/Date","temporal-unit":"day"}],"effective_type":"type/Date","id":23797,"visibility_type":"normal","display_name":"Project Complete Date","fingerprint":{"global":{"distinct-count":6,"nil%":0.5454545454545455},"type":{"type/DateTime":{"earliest":"2023-06-15","latest":"2023-12-20"}}},"base_type":"type/Date"},{"description":null,"semantic_type":"type/Quantity","coercion_strategy":null,"name":"job_number","settings":null,"fk_target_field_id":null,"field_ref":["field","job_number",{"base-type":"type/BigInteger"}],"effective_type":"type/BigInteger","id":23779,"visibility_type":"normal","display_name":"Job Number","fingerprint":{"global":{"distinct-count":11,"nil%":0.0},"type":{"type/Number":{"min":1.0,"q1":202.5,"q3":221.75,"max":224.0,"sd":65.10425206055007,"avg":194.1818181818182}}},"base_type":"type/BigInteger"},{"description":null,"semantic_type":"type/CreationDate","coercion_strategy":null,"unit":"day","name":"project_start_date","settings":null,"fk_target_field_id":null,"field_ref":["field","project_start_date",{"base-type":"type/Date","temporal-unit":"day"}],"effective_type":"type/Date","id":23825,"visibility_type":"normal","display_name":"Project Start Date","fingerprint":{"global":{"distinct-count":7,"nil%":0.3636363636363636},"type":{"type/DateTime":{"earliest":"2023-01-01","latest":"2023-07-01"}}},"base_type":"type/Date"},{"display_name":"Sum of Max of Sum of Total Contract Amount","field_ref":["aggregation",0],"base_type":"type/Decimal","effective_type":"type/Decimal","name":"sum","semantic_type":null,"fingerprint":{"global":{"distinct-count":90,"nil%":0.0},"type":{"type/Number":{"min":495442.89,"q1":2086013.4079999998,"q3":4080366.17,"max":4949246.37,"sd":1252951.107123079,"avg":3033128.6054444443}}}},{"display_name":"Sum of Max of Sum of Original Budget Amount","field_ref":["aggregation",1],"base_type":"type/Decimal","effective_type":"type/Decimal","name":"sum_2","semantic_type":null,"fingerprint":{"global":{"distinct-count":90,"nil%":0.0},"type":{"type/Number":{"min":401355.87,"q1":1751413.4000000001,"q3":3653015.41,"max":4584438.29,"sd":1133736.8467942178,"avg":2681358.887888889}}}},{"display_name":"Sum of Max of Sum of Estimated Gross Profit","field_ref":["aggregation",2],"base_type":"type/Decimal","effective_type":"type/Decimal","name":"sum_3","semantic_type":null,"fingerprint":{"global":{"distinct-count":90,"nil%":0.0},"type":{"type/Number":{"min":80827.34,"q1":208308.88,"q3":455984.89,"max":872811.84,"sd":190976.66698322596,"avg":348530.0317777778}}}},{"display_name":"Sum of Percent Complete","field_ref":["aggregation",3],"base_type":"type/Float","effective_type":"type/Float","name":"sum_4","semantic_type":null,"fingerprint":{"global":{"distinct-count":90,"nil%":0.0},"type":{"type/Number":{"min":1.1052545141356636,"q1":1.1551811629755797,"q3":1.2627710770689522,"max":1.3279535641814848,"sd":0.06008772884630028,"avg":1.2102858811390649}}}},{"display_name":"Sum of Max of Sum of Invoice Billed","field_ref":["aggregation",4],"base_type":"type/Decimal","effective_type":"type/Decimal","name":"sum_5","semantic_type":null,"fingerprint":{"global":{"distinct-count":90,"nil%":0.0},"type":{"type/Number":{"min":523059.38,"q1":1716116.4320465862,"q3":3628127.4698662874,"max":5985622.81,"sd":1306422.3244957437,"avg":2704105.5584444446}}}},{"display_name":"Sum of Sum of Job Cost - Job Number → Cost Amount","semantic_type":"type/Cost","field_ref":["aggregation",5],"base_type":"type/Decimal","effective_type":"type/Decimal","name":"sum_6","fingerprint":{"global":{"distinct-count":90,"nil%":0.0},"type":{"type/Number":{"min":524976.22,"q1":2215839.5375398253,"q3":4327029.73,"max":5302021.09,"sd":1331734.7924034817,"avg":3222347.431666667}}}},{"display_name":"Sum of Income","field_ref":["aggregation",6],"base_type":"type/Decimal","effective_type":"type/Decimal","name":"sum_7","semantic_type":null,"fingerprint":{"global":{"distinct-count":90,"nil%":0.0},"type":{"type/Number":{"min":-2101899.68,"q1":-913744.58,"q3":-110658.31666666667,"max":954072.13,"sd":667612.0225940399,"avg":-518241.8732222222}}}},{"display_name":"Sum of Overbilled","field_ref":["aggregation",7],"base_type":"type/Float","effective_type":"type/Float","name":"sum_8","semantic_type":null,"fingerprint":{"global":{"distinct-count":86,"nil%":0.0},"type":{"type/Number":{"min":0.0,"q1":458815.0102869356,"q3":1369394.4687608252,"max":2897381.432598487,"sd":705146.941761553,"avg":961661.5343914429}}}},{"display_name":"Sum of Underbilled","field_ref":["aggregation",8],"base_type":"type/Float","effective_type":"type/Float","name":"sum_9","semantic_type":null,"fingerprint":{"global":{"distinct-count":6,"nil%":0.0},"type":{"type/Number":{"min":-477134.0879403041,"q1":-5876.42066786814,"q3":0.0,"max":0.0,"sd":63796.41414034546,"avg":-11899.668366520329}}}},{"display_name":"Sum of Earned Revenue","field_ref":["aggregation",9],"base_type":"type/Float","effective_type":"type/Float","name":"sum_10","semantic_type":null,"fingerprint":{"global":{"distinct-count":90,"nil%":0.0},"type":{"type/Number":{"min":648042.6849570577,"q1":2583147.300623063,"q3":4946227.321589087,"max":6120291.709787362,"sd":1499252.5830974577,"avg":3653867.4244693676}}}},{"display_name":"Sum of Cost of Revenue","field_ref":["aggregation",10],"base_type":"type/Float","effective_type":"type/Float","name":"sum_11","semantic_type":null,"fingerprint":{"global":{"distinct-count":90,"nil%":0.0},"type":{"type/Number":{"min":556601.1749570577,"q1":2280084.803752029,"q3":4423367.27164912,"max":5440820.769100577,"sd":1359427.6994888578,"avg":3305337.39269159}}}},{"display_name":"Sum of Max of Gross Profit","field_ref":["aggregation",11],"base_type":"type/Decimal","effective_type":"type/Decimal","name":"sum_12","semantic_type":null,"fingerprint":{"global":{"distinct-count":90,"nil%":0.0},"type":{"type/Number":{"min":80827.34,"q1":208308.88,"q3":455984.89,"max":872811.84,"sd":190976.66698322596,"avg":348530.0317777778}}}}],"collection_id":null,"name":"Over / Under Billings","type":"question","creator_id":2,"cache_ttl":null,"dataset_query":{"database":2,"type":"query","query":{"expressions":{"Overbilled":["case",[[[">",["-",["field","Earned Revenue",{"base-type":"type/Float"}],["field","max_4",{"base-type":"type/Decimal"}]],0],["-",["field","Earned Revenue",{"base-type":"type/Float"}],["field","max_4",{"base-type":"type/Decimal"}]]]],{"default":0}],"Underbilled":["case",[[["<",["-",["field","Earned Revenue",{"base-type":"type/Float"}],["field","max_4",{"base-type":"type/Decimal"}]],0],["-",["field","Earned Revenue",{"base-type":"type/Float"}],["field","max_4",{"base-type":"type/Decimal"}]]]],{"default":0}],"Cost of Revenue":["-",["field","Earned Revenue",{"base-type":"type/Float"}],["field","max_6",{"base-type":"type/Decimal"}]]},"breakout":[["field","job_number_job_name",{"base-type":"type/Text"}],["field","job_status",{"base-type":"type/Text"}],["field","project_complete_date",{"base-type":"type/Date","temporal-unit":"day"}],["field","job_number",{"base-type":"type/BigInteger"}],["field","project_start_date",{"base-type":"type/Date","temporal-unit":"day"}]],"aggregation":[["sum",["field","max",{"base-type":"type/Decimal"}]],["sum",["field","max_2",{"base-type":"type/Decimal"}]],["sum",["field","max_3",{"base-type":"type/Decimal"}]],["sum",["field","Percent Complete",{"base-type":"type/Float"}]],["sum",["field","max_4",{"base-type":"type/Decimal"}]],["sum",["field","sum",{"base-type":"type/Decimal"}]],["sum",["field","Income",{"base-type":"type/Decimal"}]],["sum",["expression","Overbilled",{"base-type":"type/Float"}]],["sum",["expression","Underbilled",{"base-type":"type/Float"}]],["sum",["field","Earned Revenue",{"base-type":"type/Float"}]],["sum",["expression","Cost of Revenue",{"base-type":"type/Float"}]],["sum",["field","max_6",{"base-type":"type/Decimal"}]]],"source-query":{"joins":[{"strategy":"inner-join","alias":"Job Cost - Job Number","condition":["=",["field","job_number",{"base-type":"type/BigInteger"}],["field",23899,{"base-type":"type/BigInteger","join-alias":"Job Cost - Job Number"}]],"source-table":1077}],"aggregation":[["max",["field","sum",{"base-type":"type/Decimal"}]],["max",["field","sum_3",{"base-type":"type/Decimal"}]],["max",["field","sum_5",{"base-type":"type/Decimal"}]],["aggregation-options",["/",["sum",["field",23893,{"base-type":"type/Decimal","join-alias":"Job Cost - Job Number"}]],["max",["field","sum_3",{"base-type":"type/Decimal"}]]],{"name":"Percent Complete","display-name":"Percent Complete"}],["max",["field","sum_2",{"base-type":"type/Decimal"}]],["sum",["field",23893,{"base-type":"type/Decimal","join-alias":"Job Cost - Job Number"}]],["max",["field","sum_4",{"base-type":"type/Decimal"}]],["aggregation-options",["-",["max",["field","sum_2",{"base-type":"type/Decimal"}]],["sum",["field",23893,{"base-type":"type/Decimal","join-alias":"Job Cost - Job Number"}]]],{"name":"Income","display-name":"Income"}],["aggregation-options",["*",["max",["field","sum",{"base-type":"type/Decimal"}]],["/",["sum",["field",23893,{"base-type":"type/Decimal","join-alias":"Job Cost - Job Number"}]],["max",["field","sum_3",{"base-type":"type/Decimal"}]]]],{"name":"Earned Revenue","display-name":"Earned Revenue"}],["max",["field","Gross Profit",{"base-type":"type/Decimal"}]]],"breakout":[["field","job_number_job_name",{"base-type":"type/Text"}],["field","job_number",{"base-type":"type/BigInteger"}],["field","job_status",{"base-type":"type/Text"}],["field","project_complete_date",{"base-type":"type/Date","temporal-unit":"day"}],["field","project_start_date",{"base-type":"type/Date","temporal-unit":"day"}]],"source-query":{"source-table":1074,"breakout":[["field",23838,{"base-type":"type/Text"}],["field",23834,{"base-type":"type/Text"}],["field",23779,{"base-type":"type/BigInteger"}],["field",23797,{"base-type":"type/Date","temporal-unit":"day"}],["field",23825,{"base-type":"type/Date","temporal-unit":"day"}]],"aggregation":[["sum",["field",23823,{"base-type":"type/Decimal"}]],["sum",["field",23805,{"base-type":"type/Decimal"}]],["sum",["field",23796,{"base-type":"type/Decimal"}]],["sum",["field",23791,{"base-type":"type/Decimal"}]],["sum",["field",23789,{"base-type":"type/Decimal"}]],["aggregation-options",["-",["sum",["field",23823,{"base-type":"type/Decimal"}]],["sum",["field",23791,{"base-type":"type/Decimal"}]]],{"name":"Gross Profit","display-name":"Gross Profit"}]]}}}},"parameter_mappings":[],"display":"table","visualization_settings":{"table.column_formatting":[{"columns":["sum_9"],"type":"single","operator":"<","value":0,"color":"#F7C4C4","highlight_row":true,"id":0}],"table.pivot_column":"job_number_job_name","table.cell_column":"sum","table.columns":[{"name":"job_number_job_name","enabled":true},{"name":"job_status","enabled":false},{"name":"project_complete_date","enabled":false},{"name":"sum","enabled":true},{"name":"sum_2","enabled":true},{"name":"sum_3","enabled":true},{"name":"sum_4","enabled":true},{"name":"sum_5","enabled":true},{"name":"sum_6","enabled":true},{"name":"sum_7","enabled":true},{"name":"sum_8","enabled":true},{"name":"sum_9","enabled":true},{"name":"sum_10","enabled":true},{"name":"sum_11","enabled":true},{"name":"sum_12","enabled":true},{"name":"job_number","enabled":false},{"name":"project_start_date","enabled":false}],"column_settings":{"[\"name\",\"sum_11\"]":{"column_title":"Cost of Revenue","number_style":"currency","currency_in_header":false,"decimals":0},"[\"name\",\"sum\"]":{"column_title":"Total Contract","number_style":"currency","currency_in_header":false,"decimals":0},"[\"name\",\"sum_6\"]":{"column_title":"Costs","decimals":0,"currency_in_header":false},"[\"name\",\"sum_12\"]":{"column_title":"Gross Profit","number_style":"currency","currency_in_header":false,"decimals":0},"[\"name\",\"sum_2\"]":{"column_title":"Est. Cost at Completion","number_style":"currency","currency_in_header":false,"decimals":0},"[\"name\",\"sum_4\"]":{"column_title":"Percent Complete","number_style":"percent","decimals":0},"[\"name\",\"sum_7\"]":{"column_title":"Income","number_style":"currency","currency_in_header":false,"decimals":0},"[\"name\",\"sum_3\"]":{"column_title":"Estimated Gross Profit","number_style":"currency","currency_in_header":false,"decimals":0},"[\"name\",\"sum_5\"]":{"column_title":"Billed","number_style":"currency","currency_in_header":false,"decimals":0},"[\"name\",\"sum_9\"]":{"column_title":"Underbilled","number_style":"currency","currency_in_header":false,"decimals":0},"[\"name\",\"sum_10\"]":{"column_title":"Earned Revenue","number_style":"currency","currency_in_header":false,"decimals":0},"[\"name\",\"sum_8\"]":{"column_title":"Overbilled","number_style":"currency","currency_in_header":false,"decimals":0}}},"parameters":[]}]}}],["with model",{"toucan2.pipeline/model":"model/Card"}],["with unparsed args",{"toucan2.pipeline/query-type":"toucan.query-type/insert.instances","toucan2.pipeline/unparsed-args":["model/Card",{"description":null,"collection_position":null,"result_metadata":[{"description":null,"semantic_type":"type/Category","coercion_strategy":null,"name":"job_number_job_name","settings":null,"fk_target_field_id":null,"field_ref":["field","job_number_job_name",{"base-type":"type/Text"}],"effective_type":"type/Text","id":23838,"visibility_type":"normal","display_name":"Job Number Job Name","fingerprint":{"global":{"distinct-count":11,"nil%":0.0},"type":{"type/Text":{"percent-json":0.0,"percent-url":0.0,"percent-email":0.0,"percent-state":0.0,"average-length":24.454545454545453}}},"base_type":"type/Text"},{"description":null,"semantic_type":"type/Category","coercion_strategy":null,"name":"job_status","settings":null,"fk_target_field_id":null,"field_ref":["field","job_status",{"base-type":"type/Text"}],"effective_type":"type/Text","id":23834,"visibility_type":"normal","display_name":"Job Status","fingerprint":{"global":{"distinct-count":2,"nil%":0.0},"type":{"type/Text":{"percent-json":0.0,"percent-url":0.0,"percent-email":0.0,"percent-state":0.0,"average-length":7.090909090909091}}},"base_type":"type/Text"},{"description":null,"semantic_type":null,"coercion_strategy":null,"unit":"day","name":"project_complete_date","settings":null,"fk_target_field_id":null,"field_ref":["field","project_complete_date",{"base-type":"type/Date","temporal-unit":"day"}],"effective_type":"type/Date","id":23797,"visibility_type":"normal","display_name":"Project Complete Date","fingerprint":{"global":{"distinct-count":6,"nil%":0.5454545454545455},"type":{"type/DateTime":{"earliest":"2023-06-15","latest":"2023-12-20"}}},"base_type":"type/Date"},{"description":null,"semantic_type":"type/Quantity","coercion_strategy":null,"name":"job_number","settings":null,"fk_target_field_id":null,"field_ref":["field","job_number",{"base-type":"type/BigInteger"}],"effective_type":"type/BigInteger","id":23779,"visibility_type":"normal","display_name":"Job Number","fingerprint":{"global":{"distinct-count":11,"nil%":0.0},"type":{"type/Number":{"min":1.0,"q1":202.5,"q3":221.75,"max":224.0,"sd":65.10425206055007,"avg":194.1818181818182}}},"base_type":"type/BigInteger"},{"description":null,"semantic_type":"type/CreationDate","coercion_strategy":null,"unit":"day","name":"project_start_date","settings":null,"fk_target_field_id":null,"field_ref":["field","project_start_date",{"base-type":"type/Date","temporal-unit":"day"}],"effective_type":"type/Date","id":23825,"visibility_type":"normal","display_name":"Project Start Date","fingerprint":{"global":{"distinct-count":7,"nil%":0.3636363636363636},"type":{"type/DateTime":{"earliest":"2023-01-01","latest":"2023-07-01"}}},"base_type":"type/Date"},{"display_name":"Sum of Max of Sum of Total Contract Amount","field_ref":["aggregation",0],"base_type":"type/Decimal","effective_type":"type/Decimal","name":"sum","semantic_type":null,"fingerprint":{"global":{"distinct-count":90,"nil%":0.0},"type":{"type/Number":{"min":495442.89,"q1":2086013.4079999998,"q3":4080366.17,"max":4949246.37,"sd":1252951.107123079,"avg":3033128.6054444443}}}},{"display_name":"Sum of Max of Sum of Original Budget Amount","field_ref":["aggregation",1],"base_type":"type/Decimal","effective_type":"type/Decimal","name":"sum_2","semantic_type":null,"fingerprint":{"global":{"distinct-count":90,"nil%":0.0},"type":{"type/Number":{"min":401355.87,"q1":1751413.4000000001,"q3":3653015.41,"max":4584438.29,"sd":1133736.8467942178,"avg":2681358.887888889}}}},{"display_name":"Sum of Max of Sum of Estimated Gross Profit","field_ref":["aggregation",2],"base_type":"type/Decimal","effective_type":"type/Decimal","name":"sum_3","semantic_type":null,"fingerprint":{"global":{"distinct-count":90,"nil%":0.0},"type":{"type/Number":{"min":80827.34,"q1":208308.88,"q3":455984.89,"max":872811.84,"sd":190976.66698322596,"avg":348530.0317777778}}}},{"display_name":"Sum of Percent Complete","field_ref":["aggregation",3],"base_type":"type/Float","effective_type":"type/Float","name":"sum_4","semantic_type":null,"fingerprint":{"global":{"distinct-count":90,"nil%":0.0},"type":{"type/Number":{"min":1.1052545141356636,"q1":1.1551811629755797,"q3":1.2627710770689522,"max":1.3279535641814848,"sd":0.06008772884630028,"avg":1.2102858811390649}}}},{"display_name":"Sum of Max of Sum of Invoice Billed","field_ref":["aggregation",4],"base_type":"type/Decimal","effective_type":"type/Decimal","name":"sum_5","semantic_type":null,"fingerprint":{"global":{"distinct-count":90,"nil%":0.0},"type":{"type/Number":{"min":523059.38,"q1":1716116.4320465862,"q3":3628127.4698662874,"max":5985622.81,"sd":1306422.3244957437,"avg":2704105.5584444446}}}},{"display_name":"Sum of Sum of Job Cost - Job Number → Cost Amount","semantic_type":"type/Cost","field_ref":["aggregation",5],"base_type":"type/Decimal","effective_type":"type/Decimal","name":"sum_6","fingerprint":{"global":{"distinct-count":90,"nil%":0.0},"type":{"type/Number":{"min":524976.22,"q1":2215839.5375398253,"q3":4327029.73,"max":5302021.09,"sd":1331734.7924034817,"avg":3222347.431666667}}}},{"display_name":"Sum of Income","field_ref":["aggregation",6],"base_type":"type/Decimal","effective_type":"type/Decimal","name":"sum_7","semantic_type":null,"fingerprint":{"global":{"distinct-count":90,"nil%":0.0},"type":{"type/Number":{"min":-2101899.68,"q1":-913744.58,"q3":-110658.31666666667,"max":954072.13,"sd":667612.0225940399,"avg":-518241.8732222222}}}},{"display_name":"Sum of Overbilled","field_ref":["aggregation",7],"base_type":"type/Float","effective_type":"type/Float","name":"sum_8","semantic_type":null,"fingerprint":{"global":{"distinct-count":86,"nil%":0.0},"type":{"type/Number":{"min":0.0,"q1":458815.0102869356,"q3":1369394.4687608252,"max":2897381.432598487,"sd":705146.941761553,"avg":961661.5343914429}}}},{"display_name":"Sum of Underbilled","field_ref":["aggregation",8],"base_type":"type/Float","effective_type":"type/Float","name":"sum_9","semantic_type":null,"fingerprint":{"global":{"distinct-count":6,"nil%":0.0},"type":{"type/Number":{"min":-477134.0879403041,"q1":-5876.42066786814,"q3":0.0,"max":0.0,"sd":63796.41414034546,"avg":-11899.668366520329}}}},{"display_name":"Sum of Earned Revenue","field_ref":["aggregation",9],"base_type":"type/Float","effective_type":"type/Float","name":"sum_10","semantic_type":null,"fingerprint":{"global":{"distinct-count":90,"nil%":0.0},"type":{"type/Number":{"min":648042.6849570577,"q1":2583147.300623063,"q3":4946227.321589087,"max":6120291.709787362,"sd":1499252.5830974577,"avg":3653867.4244693676}}}},{"display_name":"Sum of Cost of Revenue","field_ref":["aggregation",10],"base_type":"type/Float","effective_type":"type/Float","name":"sum_11","semantic_type":null,"fingerprint":{"global":{"distinct-count":90,"nil%":0.0},"type":{"type/Number":{"min":556601.1749570577,"q1":2280084.803752029,"q3":4423367.27164912,"max":5440820.769100577,"sd":1359427.6994888578,"avg":3305337.39269159}}}},{"display_name":"Sum of Max of Gross Profit","field_ref":["aggregation",11],"base_type":"type/Decimal","effective_type":"type/Decimal","name":"sum_12","semantic_type":null,"fingerprint":{"global":{"distinct-count":90,"nil%":0.0},"type":{"type/Number":{"min":80827.34,"q1":208308.88,"q3":455984.89,"max":872811.84,"sd":190976.66698322596,"avg":348530.0317777778}}}}],"collection_id":null,"name":"Over / Under Billings","type":"question","creator_id":2,"cache_ttl":null,"dataset_query":{"database":2,"type":"query","query":{"expressions":{"Overbilled":["case",[[[">",["-",["field","Earned Revenue",{"base-type":"type/Float"}],["field","max_4",{"base-type":"type/Decimal"}]],0],["-",["field","Earned Revenue",{"base-type":"type/Float"}],["field","max_4",{"base-type":"type/Decimal"}]]]],{"default":0}],"Underbilled":["case",[[["<",["-",["field","Earned Revenue",{"base-type":"type/Float"}],["field","max_4",{"base-type":"type/Decimal"}]],0],["-",["field","Earned Revenue",{"base-type":"type/Float"}],["field","max_4",{"base-type":"type/Decimal"}]]]],{"default":0}],"Cost of Revenue":["-",["field","Earned Revenue",{"base-type":"type/Float"}],["field","max_6",{"base-type":"type/Decimal"}]]},"breakout":[["field","job_number_job_name",{"base-type":"type/Text"}],["field","job_status",{"base-type":"type/Text"}],["field","project_complete_date",{"base-type":"type/Date","temporal-unit":"day"}],["field","job_number",{"base-type":"type/BigInteger"}],["field","project_start_date",{"base-type":"type/Date","temporal-unit":"day"}]],"aggregation":[["sum",["field","max",{"base-type":"type/Decimal"}]],["sum",["field","max_2",{"base-type":"type/Decimal"}]],["sum",["field","max_3",{"base-type":"type/Decimal"}]],["sum",["field","Percent Complete",{"base-type":"type/Float"}]],["sum",["field","max_4",{"base-type":"type/Decimal"}]],["sum",["field","sum",{"base-type":"type/Decimal"}]],["sum",["field","Income",{"base-type":"type/Decimal"}]],["sum",["expression","Overbilled",{"base-type":"type/Float"}]],["sum",["expression","Underbilled",{"base-type":"type/Float"}]],["sum",["field","Earned Revenue",{"base-type":"type/Float"}]],["sum",["expression","Cost of Revenue",{"base-type":"type/Float"}]],["sum",["field","max_6",{"base-type":"type/Decimal"}]]],"source-query":{"joins":[{"strategy":"inner-join","alias":"Job Cost - Job Number","condition":["=",["field","job_number",{"base-type":"type/BigInteger"}],["field",23899,{"base-type":"type/BigInteger","join-alias":"Job Cost - Job Number"}]],"source-table":1077}],"aggregation":[["max",["field","sum",{"base-type":"type/Decimal"}]],["max",["field","sum_3",{"base-type":"type/Decimal"}]],["max",["field","sum_5",{"base-type":"type/Decimal"}]],["aggregation-options",["/",["sum",["field",23893,{"base-type":"type/Decimal","join-alias":"Job Cost - Job Number"}]],["max",["field","sum_3",{"base-type":"type/Decimal"}]]],{"name":"Percent Complete","display-name":"Percent Complete"}],["max",["field","sum_2",{"base-type":"type/Decimal"}]],["sum",["field",23893,{"base-type":"type/Decimal","join-alias":"Job Cost - Job Number"}]],["max",["field","sum_4",{"base-type":"type/Decimal"}]],["aggregation-options",["-",["max",["field","sum_2",{"base-type":"type/Decimal"}]],["sum",["field",23893,{"base-type":"type/Decimal","join-alias":"Job Cost - Job Number"}]]],{"name":"Income","display-name":"Income"}],["aggregation-options",["*",["max",["field","sum",{"base-type":"type/Decimal"}]],["/",["sum",["field",23893,{"base-type":"type/Decimal","join-alias":"Job Cost - Job Number"}]],["max",["field","sum_3",{"base-type":"type/Decimal"}]]]],{"name":"Earned Revenue","display-name":"Earned Revenue"}],["max",["field","Gross Profit",{"base-type":"type/Decimal"}]]],"breakout":[["field","job_number_job_name",{"base-type":"type/Text"}],["field","job_number",{"base-type":"type/BigInteger"}],["field","job_status",{"base-type":"type/Text"}],["field","project_complete_date",{"base-type":"type/Date","temporal-unit":"day"}],["field","project_start_date",{"base-type":"type/Date","temporal-unit":"day"}]],"source-query":{"source-table":1074,"breakout":[["field",23838,{"base-type":"type/Text"}],["field",23834,{"base-type":"type/Text"}],["field",23779,{"base-type":"type/BigInteger"}],["field",23797,{"base-type":"type/Date","temporal-unit":"day"}],["field",23825,{"base-type":"type/Date","temporal-unit":"day"}]],"aggregation":[["sum",["field",23823,{"base-type":"type/Decimal"}]],["sum",["field",23805,{"base-type":"type/Decimal"}]],["sum",["field",23796,{"base-type":"type/Decimal"}]],["sum",["field",23791,{"base-type":"type/Decimal"}]],["sum",["field",23789,{"base-type":"type/Decimal"}]],["aggregation-options",["-",["sum",["field",23823,{"base-type":"type/Decimal"}]],["sum",["field",23791,{"base-type":"type/Decimal"}]]],{"name":"Gross Profit","display-name":"Gross Profit"}]]}}}},"parameter_mappings":[],"display":"table","visualization_settings":{"table.column_formatting":[{"columns":["sum_9"],"type":"single","operator":"<","value":0,"color":"#F7C4C4","highlight_row":true,"id":0}],"table.pivot_column":"job_number_job_name","table.cell_column":"sum","table.columns":[{"name":"job_number_job_name","enabled":true},{"name":"job_status","enabled":false},{"name":"project_complete_date","enabled":false},{"name":"sum","enabled":true},{"name":"sum_2","enabled":true},{"name":"sum_3","enabled":true},{"name":"sum_4","enabled":true},{"name":"sum_5","enabled":true},{"name":"sum_6","enabled":true},{"name":"sum_7","enabled":true},{"name":"sum_8","enabled":true},{"name":"sum_9","enabled":true},{"name":"sum_10","enabled":true},{"name":"sum_11","enabled":true},{"name":"sum_12","enabled":true},{"name":"job_number","enabled":false},{"name":"project_start_date","enabled":false}],"column_settings":{"[\"name\",\"sum_11\"]":{"column_title":"Cost of Revenue","number_style":"currency","currency_in_header":false,"decimals":0},"[\"name\",\"sum\"]":{"column_title":"Total Contract","number_style":"currency","currency_in_header":false,"decimals":0},"[\"name\",\"sum_6\"]":{"column_title":"Costs","decimals":0,"currency_in_header":false},"[\"name\",\"sum_12\"]":{"column_title":"Gross Profit","number_style":"currency","currency_in_header":false,"decimals":0},"[\"name\",\"sum_2\"]":{"column_title":"Est. Cost at Completion","number_style":"currency","currency_in_header":false,"decimals":0},"[\"name\",\"sum_4\"]":{"column_title":"Percent Complete","number_style":"percent","decimals":0},"[\"name\",\"sum_7\"]":{"column_title":"Income","number_style":"currency","currency_in_header":false,"decimals":0},"[\"name\",\"sum_3\"]":{"column_title":"Estimated Gross Profit","number_style":"currency","currency_in_header":false,"decimals":0},"[\"name\",\"sum_5\"]":{"column_title":"Billed","number_style":"currency","currency_in_header":false,"decimals":0},"[\"name\",\"sum_9\"]":{"column_title":"Underbilled","number_style":"currency","currency_in_header":false,"decimals":0},"[\"name\",\"sum_10\"]":{"column_title":"Earned Revenue","number_style":"currency","currency_in_header":false,"decimals":0},"[\"name\",\"sum_8\"]":{"column_title":"Overbilled","number_style":"currency","currency_in_header":false,"decimals":0}}},"parameters":[]}]}],["resolve connection",{"toucan2.connection/connectable":"class metabase.db.connection.ApplicationDB"}],["resolve connection",{"toucan2.connection/connectable":"default"}],["resolve connection",{"toucan2.connection/connectable":null}]]},"at":["org.postgresql.core.v3.QueryExecutorImpl","receiveErrorResponse","QueryExecutorImpl.java",2725]},{"type":"org.postgresql.util.PSQLException","message":"ERROR: insert or update on table \"report_card\" violates foreign key constraint \"fk_report_card_ref_table_id\"\n  Detail: Key (table_id)=(1074) is not present in table \"metabase_table\".","at":["org.postgresql.core.v3.QueryExecutorImpl","receiveErrorResponse","QueryExecutorImpl.java",2725]}],"trace":[["org.postgresql.core.v3.QueryExecutorImpl","receiveErrorResponse","QueryExecutorImpl.java",2725],["org.postgresql.core.v3.QueryExecutorImpl","processResults","QueryExecutorImpl.java",2412],["org.postgresql.core.v3.QueryExecutorImpl","execute","QueryExecutorImpl.java",371],["org.postgresql.jdbc.PgStatement","executeInternal","PgStatement.java",502],["org.postgresql.jdbc.PgStatement","execute","PgStatement.java",419],["org.postgresql.jdbc.PgPreparedStatement","executeWithFlags","PgPreparedStatement.java",194],["org.postgresql.jdbc.PgPreparedStatement","execute","PgPreparedStatement.java",180],["com.mchange.v2.c3p0.impl.NewProxyPreparedStatement","execute","NewProxyPreparedStatement.java",67],["toucan2.jdbc.query$reduce_jdbc_query","invokeStatic","query.clj",40],["toucan2.jdbc.query$reduce_jdbc_query","invoke","query.clj",22],["toucan2.jdbc.pipeline$transduce_execute_with_connection_primary_method_java_sql_Connection_default_default","invokeStatic","pipeline.clj",19],["toucan2.jdbc.pipeline$transduce_execute_with_connection_primary_method_java_sql_Connection_default_default","invoke","pipeline.clj",9],["methodical.impl.combo.common$partial_STAR_$fn__18182","invoke","common.clj",15],["methodical.util.FnWithMeta","invoke","util.clj",46],["toucan2.jdbc.pipeline$transduce_execute_with_connection_primary_method_java_sql_Connection_toucan_result_type_pks_default","invokeStatic","pipeline.clj",30],["toucan2.jdbc.pipeline$transduce_execute_with_connection_primary_method_java_sql_Connection_toucan_result_type_pks_default","invoke","pipeline.clj",22],["methodical.impl.combo.common$partial_STAR_$fn__18182","invoke","common.clj",15],["methodical.impl.combo.threaded$combine_methods_thread_last$fn__18492$combined_method_thread_last__18493","invoke","threaded.clj",64],["methodical.util.FnWithMeta","invoke","util.clj",46],["methodical.impl.standard$invoke_multifn","invokeStatic","standard.clj",65],["methodical.impl.standard$invoke_multifn","invoke","standard.clj",47],["methodical.impl.standard.StandardMultiFn","invoke","standard.clj",216],["toucan2.jdbc.pipeline$transduce_execute_with_connection_primary_method_java_sql_Connection_toucan2_jdbc_pipeline_DML_queries_returning_instances_default","invokeStatic","pipeline.clj",62],["toucan2.jdbc.pipeline$transduce_execute_with_connection_primary_method_java_sql_Connection_toucan2_jdbc_pipeline_DML_queries_returning_instances_default","invoke","pipeline.clj",52],["methodical.impl.combo.common$partial_STAR_$fn__18182","invoke","common.clj",15],["methodical.impl.combo.threaded$combine_methods_thread_last$fn__18492$combined_method_thread_last__18493","invoke","threaded.clj",64],["methodical.util.FnWithMeta","invoke","util.clj",46],["methodical.impl.standard$invoke_multifn","invokeStatic","standard.clj",65],["methodical.impl.standard$invoke_multifn","invoke","standard.clj",47],["methodical.impl.standard.StandardMultiFn","invoke","standard.clj",216],["toucan2.pipeline$transduce_execute$with_connection_STAR___21596$with_transaction_STAR___21597","invoke","pipeline.clj",75],["toucan2.connection$bind_current_connectable_fn$fn__21277","invoke","connection.clj",104],["metabase.db.connection$do_with_transaction_primary_method_java_sql_Connection","invokeStatic","connection.clj",180],["metabase.db.connection$do_with_transaction_primary_method_java_sql_Connection","invoke","connection.clj",162],["methodical.impl.combo.common$partial_STAR_$fn__18182","invoke","common.clj",13],["methodical.util.FnWithMeta","invoke","util.clj",46],["toucan2.connection$do_with_transaction_around_method_toucan2_connection_default","invokeStatic","connection.clj",249],["toucan2.connection$do_with_transaction_around_method_toucan2_connection_default","invoke","connection.clj",245],["methodical.impl.combo.common$partial_STAR_$fn__18182","invoke","common.clj",13],["methodical.util.FnWithMeta","invoke","util.clj",46],["methodical.impl.standard$invoke_multifn","invokeStatic","standard.clj",58],["methodical.impl.standard$invoke_multifn","invoke","standard.clj",47],["methodical.impl.standard.StandardMultiFn","invoke","standard.clj",212],["toucan2.pipeline$transduce_execute$with_connection_STAR___21596","invoke","pipeline.clj",74],["toucan2.connection$bind_current_connectable_fn$fn__21277","invoke","connection.clj",104],["toucan2.connection$bind_current_connectable_fn$fn__21277","invoke","connection.clj",104],["toucan2.jdbc.connection$do_with_connection_primary_method_java_sql_Connection","invokeStatic","connection.clj",13],["toucan2.jdbc.connection$do_with_connection_primary_method_java_sql_Connection","invoke","connection.clj",11],["methodical.impl.combo.common$partial_STAR_$fn__18182","invoke","common.clj",12],["methodical.util.FnWithMeta","invoke","util.clj",46],["toucan2.connection$do_with_connection_around_method_toucan2_connection_default","invokeStatic","connection.clj",118],["toucan2.connection$do_with_connection_around_method_toucan2_connection_default","invoke","connection.clj",106],["methodical.impl.combo.common$partial_STAR_$fn__18182","invoke","common.clj",12],["methodical.util.FnWithMeta","invoke","util.clj",46],["methodical.impl.standard$invoke_multifn","invokeStatic","standard.clj",55],["methodical.impl.standard$invoke_multifn","invoke","standard.clj",47],["methodical.impl.standard.StandardMultiFn","invoke","standard.clj",210],["toucan2.connection$do_with_connection_primary_method_","invokeStatic","connection.clj",204],["toucan2.connection$do_with_connection_primary_method_","invoke","connection.clj",194],["methodical.impl.combo.common$partial_STAR_$fn__18182","invoke","common.clj",12],["methodical.util.FnWithMeta","invoke","util.clj",46],["toucan2.connection$do_with_connection_around_method_toucan2_connection_default","invokeStatic","connection.clj",118],["toucan2.connection$do_with_connection_around_method_toucan2_connection_default","invoke","connection.clj",106],["methodical.impl.combo.common$partial_STAR_$fn__18182","invoke","common.clj",12],["methodical.util.FnWithMeta","invoke","util.clj",46],["methodical.impl.standard$invoke_multifn","invokeStatic","standard.clj",55],["methodical.impl.standard$invoke_multifn","invoke","standard.clj",47],["methodical.impl.standard.StandardMultiFn","invoke","standard.clj",210],["toucan2.pipeline$transduce_execute","invokeStatic","pipeline.clj",74],["toucan2.pipeline$transduce_execute","invoke","pipeline.clj",64],["clojure.lang.Var","invoke","Var.java",399],["toucan2.pipeline$transduce_compiled_query","invokeStatic","pipeline.clj",244],["toucan2.pipeline$transduce_compiled_query","invoke","pipeline.clj",240],["toucan2.pipeline$transduce_built_query","invokeStatic","pipeline.clj",252],["toucan2.pipeline$transduce_built_query","invoke","pipeline.clj",246],["toucan2.pipeline$transduce_query_primary_method_default","invokeStatic","pipeline.clj",272],["toucan2.pipeline$transduce_query_primary_method_default","invoke","pipeline.clj",269],["methodical.impl.combo.common$partial_STAR_$fn__18182","invoke","common.clj",15],["methodical.util.FnWithMeta","invoke","util.clj",46],["toucan2.tools.after$transduce_query_primary_method_toucan2_tools_after_query_type_toucan2_tools_after_model_default","invokeStatic","after.clj",95],["toucan2.tools.after$transduce_query_primary_method_toucan2_tools_after_query_type_toucan2_tools_after_model_default","invoke","after.clj",84],["methodical.impl.combo.common$partial_STAR_$fn__18182","invoke","common.clj",15],["methodical.impl.combo.threaded$combine_methods_thread_last$fn__18492$combined_method_thread_last__18493","invoke","threaded.clj",64],["methodical.util.FnWithMeta","invoke","util.clj",46],["toucan2.tools.before_insert$transduce_query_around_method_toucan_query_type_insert__STAR__toucan2_tools_before_insert_before_insert_default$with_connection_STAR___25713$with_transaction_STAR___25714","invoke","before_insert.clj",37],["toucan2.connection$bind_current_connectable_fn$fn__21277","invoke","connection.clj",104],["metabase.db.connection$do_with_transaction_primary_method_java_sql_Connection","invokeStatic","connection.clj",180],["metabase.db.connection$do_with_transaction_primary_method_java_sql_Connection","invoke","connection.clj",162],["methodical.impl.combo.common$partial_STAR_$fn__18182","invoke","common.clj",13],["methodical.util.FnWithMeta","invoke","util.clj",46],["toucan2.connection$do_with_transaction_around_method_toucan2_connection_default","invokeStatic","connection.clj",249],["toucan2.connection$do_with_transaction_around_method_toucan2_connection_default","invoke","connection.clj",245],["methodical.impl.combo.common$partial_STAR_$fn__18182","invoke","common.clj",13],["methodical.util.FnWithMeta","invoke","util.clj",46],["methodical.impl.standard$invoke_multifn","invokeStatic","standard.clj",58],["methodical.impl.standard$invoke_multifn","invoke","standard.clj",47],["methodical.impl.standard.StandardMultiFn","invoke","standard.clj",212],["toucan2.tools.before_insert$transduce_query_around_method_toucan_query_type_insert__STAR__toucan2_tools_before_insert_before_insert_default$with_connection_STAR___25713","invoke","before_insert.clj",36],["toucan2.connection$bind_current_connectable_fn$fn__21277","invoke","connection.clj",104],["toucan2.connection$bind_current_connectable_fn$fn__21277","invoke","connection.clj",104],["toucan2.jdbc.connection$do_with_connection_primary_method_java_sql_Connection","invokeStatic","connection.clj",13],["toucan2.jdbc.connection$do_with_connection_primary_method_java_sql_Connection","invoke","connection.clj",11],["methodical.impl.combo.common$partial_STAR_$fn__18182","invoke","common.clj",12],["methodical.util.FnWithMeta","invoke","util.clj",46],["toucan2.connection$do_with_connection_around_method_toucan2_connection_default","invokeStatic","connection.clj",118],["toucan2.connection$do_with_connection_around_method_toucan2_connection_default","invoke","connection.clj",106],["methodical.impl.combo.common$partial_STAR_$fn__18182","invoke","common.clj",12],["methodical.util.FnWithMeta","invoke","util.clj",46],["methodical.impl.standard$invoke_multifn","invokeStatic","standard.clj",55],["methodical.impl.standard$invoke_multifn","invoke","standard.clj",47],["methodical.impl.standard.StandardMultiFn","invoke","standard.clj",210],["toucan2.connection$do_with_connection_primary_method_","invokeStatic","connection.clj",204],["toucan2.connection$do_with_connection_primary_method_","invoke","connection.clj",194],["methodical.impl.combo.common$partial_STAR_$fn__18182","invoke","common.clj",12],["methodical.util.FnWithMeta","invoke","util.clj",46],["toucan2.connection$do_with_connection_around_method_toucan2_connection_default","invokeStatic","connection.clj",118],["toucan2.connection$do_with_connection_around_method_toucan2_connection_default","invoke","connection.clj",106],["methodical.impl.combo.common$partial_STAR_$fn__18182","invoke","common.clj",12],["methodical.util.FnWithMeta","invoke","util.clj",46],["methodical.impl.standard$invoke_multifn","invokeStatic","standard.clj",55],["methodical.impl.standard$invoke_multifn","invoke","standard.clj",47],["methodical.impl.standard.StandardMultiFn","invoke","standard.clj",210],["toucan2.tools.before_insert$transduce_query_around_method_toucan_query_type_insert__STAR__toucan2_tools_before_insert_before_insert_default","invokeStatic","before_insert.clj",36],["toucan2.tools.before_insert$transduce_query_around_method_toucan_query_type_insert__STAR__toucan2_tools_before_insert_before_insert_default","invoke","before_insert.clj",31],["methodical.impl.combo.common$partial_STAR_$fn__18182","invoke","common.clj",15],["methodical.util.FnWithMeta","invoke","util.clj",46],["methodical.impl.standard$invoke_multifn","invokeStatic","standard.clj",65],["methodical.impl.standard$invoke_multifn","invoke","standard.clj",47],["methodical.impl.standard.StandardMultiFn","invoke","standard.clj",216],["toucan2.pipeline$transduce_query_STAR_","invokeStatic","pipeline.clj",278],["toucan2.pipeline$transduce_query_STAR_","invoke","pipeline.clj",274],["toucan2.pipeline$transduce_with_model","invokeStatic","pipeline.clj",293],["toucan2.pipeline$transduce_with_model","invoke","pipeline.clj",280],["toucan2.pipeline$transduce_parsed","invokeStatic","pipeline.clj",309],["toucan2.pipeline$transduce_parsed","invoke","pipeline.clj",295],["toucan2.pipeline$transduce_unparsed","invokeStatic","pipeline.clj",317],["toucan2.pipeline$transduce_unparsed","invoke","pipeline.clj",311],["toucan2.pipeline$transduce_unparsed_with_default_rf","invokeStatic","pipeline.clj",374],["toucan2.pipeline$transduce_unparsed_with_default_rf","invoke","pipeline.clj",368],["toucan2.insert$insert_returning_instances_BANG_","invokeStatic","insert.clj",163],["toucan2.insert$insert_returning_instances_BANG_","doInvoke","insert.clj",154],["clojure.lang.RestFn","applyTo","RestFn.java",137],["clojure.core$apply","invokeStatic","core.clj",667],["clojure.core$apply","invoke","core.clj",662],["toucan2.insert$insert_returning_instance_BANG_","invokeStatic","insert.clj",174],["toucan2.insert$insert_returning_instance_BANG_","doInvoke","insert.clj",165],["clojure.lang.RestFn","invoke","RestFn.java",421],["metabase.models.card$create_card_BANG_$with_connection_STAR___78587$with_transaction_STAR___78588","invoke","card.clj",760],["toucan2.connection$bind_current_connectable_fn$fn__21277","invoke","connection.clj",104],["metabase.db.connection$do_transaction$thunk__42418","invoke","connection.clj",140],["metabase.db.connection$do_transaction","invokeStatic","connection.clj",152],["metabase.db.connection$do_transaction","invoke","connection.clj",136],["metabase.db.connection$do_with_transaction_primary_method_java_sql_Connection","invokeStatic","connection.clj",189],["metabase.db.connection$do_with_transaction_primary_method_java_sql_Connection","invoke","connection.clj",162],["methodical.impl.combo.common$partial_STAR_$fn__18182","invoke","common.clj",13],["methodical.util.FnWithMeta","invoke","util.clj",46],["toucan2.connection$do_with_transaction_around_method_toucan2_connection_default","invokeStatic","connection.clj",249],["toucan2.connection$do_with_transaction_around_method_toucan2_connection_default","invoke","connection.clj",245],["methodical.impl.combo.common$partial_STAR_$fn__18182","invoke","common.clj",13],["methodical.util.FnWithMeta","invoke","util.clj",46],["methodical.impl.standard$invoke_multifn","invokeStatic","standard.clj",58],["methodical.impl.standard$invoke_multifn","invoke","standard.clj",47],["methodical.impl.standard.StandardMultiFn","invoke","standard.clj",212],["metabase.models.card$create_card_BANG_$with_connection_STAR___78587","invoke","card.clj",756],["toucan2.connection$bind_current_connectable_fn$fn__21277","invoke","connection.clj",104],["toucan2.connection$bind_current_connectable_fn$fn__21277","invoke","connection.clj",104],["toucan2.connection$bind_current_connectable_fn$fn__21277","invoke","connection.clj",104],["toucan2.jdbc.connection$do_with_connection_primary_method_javax_sql_DataSource","invokeStatic","connection.clj",18],["toucan2.jdbc.connection$do_with_connection_primary_method_javax_sql_DataSource","invoke","connection.clj",15],["methodical.impl.combo.common$partial_STAR_$fn__18182","invoke","common.clj",12],["methodical.util.FnWithMeta","invoke","util.clj",46],["toucan2.connection$do_with_connection_around_method_toucan2_connection_default","invokeStatic","connection.clj",118],["toucan2.connection$do_with_connection_around_method_toucan2_connection_default","invoke","connection.clj",106],["methodical.impl.combo.common$partial_STAR_$fn__18182","invoke","common.clj",12],["methodical.util.FnWithMeta","invoke","util.clj",46],["methodical.impl.standard$invoke_multifn","invokeStatic","standard.clj",55],["methodical.impl.standard$invoke_multifn","invoke","standard.clj",47],["methodical.impl.standard.StandardMultiFn","invoke","standard.clj",210],["metabase.db.connection$do_with_connection_primary_method_default","invokeStatic","connection.clj",132],["metabase.db.connection$do_with_connection_primary_method_default","invoke","connection.clj",130],["methodical.impl.combo.common$partial_STAR_$fn__18182","invoke","common.clj",12],["methodical.util.FnWithMeta","invoke","util.clj",46],["toucan2.connection$do_with_connection_around_method_toucan2_connection_default","invokeStatic","connection.clj",118],["toucan2.connection$do_with_connection_around_method_toucan2_connection_default","invoke","connection.clj",106],["methodical.impl.combo.common$partial_STAR_$fn__18182","invoke","common.clj",12],["methodical.util.FnWithMeta","invoke","util.clj",46],["methodical.impl.standard$invoke_multifn","invokeStatic","standard.clj",55],["methodical.impl.standard$invoke_multifn","invoke","standard.clj",47],["methodical.impl.standard.StandardMultiFn","invoke","standard.clj",210],["toucan2.connection$do_with_connection_primary_method_","invokeStatic","connection.clj",204],["toucan2.connection$do_with_connection_primary_method_","invoke","connection.clj",194],["methodical.impl.combo.common$partial_STAR_$fn__18182","invoke","common.clj",12],["methodical.util.FnWithMeta","invoke","util.clj",46],["toucan2.connection$do_with_connection_around_method_toucan2_connection_default","invokeStatic","connection.clj",118],["toucan2.connection$do_with_connection_around_method_toucan2_connection_default","invoke","connection.clj",106],["methodical.impl.combo.common$partial_STAR_$fn__18182","invoke","common.clj",12],["methodical.util.FnWithMeta","invoke","util.clj",46],["methodical.impl.standard$invoke_multifn","invokeStatic","standard.clj",55],["methodical.impl.standard$invoke_multifn","invoke","standard.clj",47],["methodical.impl.standard.StandardMultiFn","invoke","standard.clj",210],["metabase.models.card$create_card_BANG_","invokeStatic","card.clj",756],["metabase.models.card$create_card_BANG_","invoke","card.clj",729],["metabase.models.card$create_card_BANG_","invokeStatic","card.clj",737],["metabase.models.card$create_card_BANG_","invoke","card.clj",729],["metabase.api.card$fn__96070","invokeStatic","card.clj",457],["metabase.api.card$fn__96070","invoke","card.clj",435],["compojure.core$wrap_response$fn__52764","invoke","core.clj",160],["compojure.core$wrap_route_middleware$fn__52748","invoke","core.clj",132],["compojure.core$wrap_route_info$fn__52753","invoke","core.clj",139],["compojure.core$wrap_route_matches$fn__52757","invoke","core.clj",151],["clojure.lang.Var","invoke","Var.java",393],["compojure.core$routes$fn__52776$f__52777","invoke","core.clj",198],["compojure.core$routes$fn__52776$f__52777$respond_SINGLEQUOTE___52778","invoke","core.clj",197],["compojure.core$wrap_route_matches$fn__52757","invoke","core.clj",152],["clojure.lang.Var","invoke","Var.java",393],["compojure.core$routes$fn__52776$f__52777","invoke","core.clj",198],["compojure.core$routes$fn__52776","invoke","core.clj",200],["clojure.lang.AFn","applyToHelper","AFn.java",160],["clojure.lang.AFn","applyTo","AFn.java",144],["clojure.lang.AFunction$1","doInvoke","AFunction.java",31],["clojure.lang.RestFn","invoke","RestFn.java",436],["metabase.server.middleware.auth$enforce_authentication$fn__97435","invoke","auth.clj",18],["clojure.lang.AFn","applyToHelper","AFn.java",160],["clojure.lang.AFn","applyTo","AFn.java",144],["clojure.lang.AFunction$1","doInvoke","AFunction.java",31],["clojure.lang.RestFn","invoke","RestFn.java",436],["compojure.core$routes$fn__52776$f__52777","invoke","core.clj",198],["compojure.core$routes$fn__52776","invoke","core.clj",200],["compojure.core$make_context$handler__52804","invoke","core.clj",290],["compojure.core$make_context$fn__52808","invoke","core.clj",300],["clojure.lang.AFn","applyToHelper","AFn.java",160],["clojure.lang.AFn","applyTo","AFn.java",144],["clojure.lang.AFunction$1","doInvoke","AFunction.java",31],["clojure.lang.RestFn","invoke","RestFn.java",436],["compojure.core$routes$fn__52776$f__52777","invoke","core.clj",198],["compojure.core$routes$fn__52776$f__52777$respond_SINGLEQUOTE___52778","invoke","core.clj",197],["compojure.core$make_context$fn__52808","invoke","core.clj",301],["clojure.lang.AFn","applyToHelper","AFn.java",160],["clojure.lang.AFn","applyTo","AFn.java",144],["clojure.lang.AFunction$1","doInvoke","AFunction.java",31],["clojure.lang.RestFn","invoke","RestFn.java",436],["compojure.core$routes$fn__52776$f__52777","invoke","core.clj",198],["compojure.core$routes$fn__52776$f__52777$respond_SINGLEQUOTE___52778","invoke","core.clj",197],["compojure.core$make_context$fn__52808","invoke","core.clj",301],["clojure.lang.AFn","applyToHelper","AFn.java",160],["clojure.lang.AFn","applyTo","AFn.java",144],["clojure.lang.AFunction$1","doInvoke","AFunction.java",31],["clojure.lang.RestFn","invoke","RestFn.java",436],["compojure.core$routes$fn__52776$f__52777","invoke","core.clj",198],["compojure.core$routes$fn__52776$f__52777$respond_SINGLEQUOTE___52778","invoke","core.clj",197],["compojure.core$make_context$fn__52808","invoke","core.clj",301],["clojure.lang.AFn","applyToHelper","AFn.java",160],["clojure.lang.AFn","applyTo","AFn.java",144],["clojure.lang.AFunction$1","doInvoke","AFunction.java",31],["clojure.lang.RestFn","invoke","RestFn.java",436],["compojure.core$routes$fn__52776$f__52777","invoke","core.clj",198],["compojure.core$routes$fn__52776$f__52777$respond_SINGLEQUOTE___52778","invoke","core.clj",197],["compojure.core$make_context$fn__52808","invoke","core.clj",301],["clojure.lang.AFn","applyToHelper","AFn.java",160],["clojure.lang.AFn","applyTo","AFn.java",144],["clojure.lang.AFunction$1","doInvoke","AFunction.java",31],["clojure.lang.RestFn","invoke","RestFn.java",436],["compojure.core$routes$fn__52776$f__52777","invoke","core.clj",198],["compojure.core$routes$fn__52776$f__52777$respond_SINGLEQUOTE___52778","invoke","core.clj",197],["compojure.core$make_context$fn__52808","invoke","core.clj",301],["clojure.lang.AFn","applyToHelper","AFn.java",160],["clojure.lang.AFn","applyTo","AFn.java",144],["clojure.lang.AFunction$1","doInvoke","AFunction.java",31],["clojure.lang.RestFn","invoke","RestFn.java",436],["compojure.core$routes$fn__52776$f__52777","invoke","core.clj",198],["compojure.core$routes$fn__52776$f__52777$respond_SINGLEQUOTE___52778","invoke","core.clj",197],["compojure.core$wrap_route_matches$fn__52757","invoke","core.clj",153],["clojure.lang.Var","invoke","Var.java",393],["compojure.core$routes$fn__52776$f__52777","invoke","core.clj",198],["compojure.core$routes$fn__52776$f__52777$respond_SINGLEQUOTE___52778","invoke","core.clj",197],["metabase.api.routes$fn__103111$fn__103114","invoke","routes.clj",73],["compojure.core$routes$fn__52776$f__52777","invoke","core.clj",198],["compojure.core$routes$fn__52776","invoke","core.clj",200],["clojure.lang.AFn","applyToHelper","AFn.java",160],["clojure.lang.AFn","applyTo","AFn.java",144],["clojure.core$apply","invokeStatic","core.clj",667],["clojure.core$apply","invoke","core.clj",662],["metabase.server.routes$fn__103391$fn__103392","doInvoke","routes.clj",73],["clojure.lang.RestFn","invoke","RestFn.java",436],["compojure.core$routes$fn__52776$f__52777","invoke","core.clj",198],["compojure.core$routes$fn__52776","invoke","core.clj",200],["compojure.core$make_context$handler__52804","invoke","core.clj",290],["compojure.core$make_context$fn__52808","invoke","core.clj",300],["compojure.core$routes$fn__52776$f__52777","invoke","core.clj",198],["compojure.core$routes$fn__52776$f__52777$respond_SINGLEQUOTE___52778","invoke","core.clj",197],["compojure.core$wrap_route_matches$fn__52757","invoke","core.clj",153],["compojure.core$routes$fn__52776$f__52777","invoke","core.clj",198],["compojure.core$routes$fn__52776$f__52777$respond_SINGLEQUOTE___52778","invoke","core.clj",197],["compojure.core$wrap_route_matches$fn__52757","invoke","core.clj",153],["compojure.core$routes$fn__52776$f__52777","invoke","core.clj",198],["compojure.core$routes$fn__52776$f__52777$respond_SINGLEQUOTE___52778","invoke","core.clj",197],["compojure.core$wrap_route_matches$fn__52757","invoke","core.clj",153],["compojure.core$routes$fn__52776$f__52777","invoke","core.clj",198],["compojure.core$routes$fn__52776$f__52777$respond_SINGLEQUOTE___52778","invoke","core.clj",197],["compojure.core$wrap_route_matches$fn__52757","invoke","core.clj",153],["compojure.core$routes$fn__52776$f__52777","invoke","core.clj",198],["compojure.core$routes$fn__52776$f__52777$respond_SINGLEQUOTE___52778","invoke","core.clj",197],["metabase.server.routes$fn__103374$fn__103376","invoke","routes.clj",47],["compojure.core$routes$fn__52776$f__52777","invoke","core.clj",198],["compojure.core$routes$fn__52776","invoke","core.clj",200],["metabase.server.middleware.exceptions$catch_uncaught_exceptions$fn__99469","invoke","exceptions.clj",107],["metabase.server.middleware.exceptions$catch_api_exceptions$fn__99466","invoke","exceptions.clj",96],["metabase.server.middleware.log$log_api_call$fn__103678$fn__103679$fn__103680","invoke","log.clj",233],["metabase.driver.sql_jdbc.execute.diagnostic$do_with_diagnostic_info","invokeStatic","diagnostic.clj",18],["metabase.driver.sql_jdbc.execute.diagnostic$do_with_diagnostic_info","invoke","diagnostic.clj",12],["metabase.server.middleware.log$log_api_call$fn__103678$fn__103679","invoke","log.clj",224],["toucan2.execute$do_with_call_counts","invokeStatic","execute.clj",112],["toucan2.execute$do_with_call_counts","invoke","execute.clj",103],["metabase.server.middleware.log$log_api_call$fn__103678","invoke","log.clj",223],["metabase.server.middleware.browser_cookie$ensure_browser_id_cookie$fn__106968","invoke","browser_cookie.clj",42],["metabase.server.middleware.security$add_security_headers$fn__99425","invoke","security.clj",246],["ring.middleware.json$wrap_json_body$fn__107227","invoke","json.clj",64],["metabase.server.middleware.offset_paging$handle_paging$fn__87789","invoke","offset_paging.clj",43],["metabase.server.middleware.json$wrap_streamed_json_response$fn__54392","invoke","json.clj",83],["ring.middleware.keyword_params$wrap_keyword_params$fn__107316","invoke","keyword_params.clj",55],["ring.middleware.params$wrap_params$fn__107335","invoke","params.clj",77],["metabase.server.middleware.misc$maybe_set_site_url$fn__64236","invoke","misc.clj",59],["metabase.server.middleware.session$reset_session_timeout$fn__65787","invoke","session.clj",548],["metabase.server.middleware.session$bind_current_user$fn__65753$fn__65754","invoke","session.clj",443],["metabase.server.middleware.session$do_with_current_user","invokeStatic","session.clj",422],["metabase.server.middleware.session$do_with_current_user","invoke","session.clj",405],["metabase.server.middleware.session$bind_current_user$fn__65753","invoke","session.clj",442],["metabase.server.middleware.session$wrap_current_user_info$fn__65734","invoke","session.clj",381],["metabase.server.middleware.session$wrap_session_id$fn__65706","invoke","session.clj",259],["metabase.server.middleware.auth$wrap_static_api_key$fn__97443","invoke","auth.clj",32],["ring.middleware.cookies$wrap_cookies$fn__107155","invoke","cookies.clj",200],["metabase.server.middleware.misc$add_content_type$fn__64218","invoke","misc.clj",28],["metabase.server.middleware.misc$disable_streaming_buffering$fn__64244","invoke","misc.clj",75],["ring.middleware.gzip$wrap_gzip$fn__107197","invoke","gzip.clj",86],["metabase.server.middleware.misc$bind_request$fn__64247","invoke","misc.clj",91],["metabase.server.middleware.ssl$redirect_to_https_middleware$fn__106984","invoke","ssl.clj",51],["metabase.server$async_proxy_handler$fn__71978","invoke","server.clj",77],["metabase.server.proxy$org.eclipse.jetty.server.handler.AbstractHandler$ff19274a","handle",null,-1],["org.eclipse.jetty.server.handler.StatisticsHandler","handle","StatisticsHandler.java",173],["org.eclipse.jetty.server.handler.HandlerWrapper","handle","HandlerWrapper.java",122],["org.eclipse.jetty.server.Server","handle","Server.java",563],["org.eclipse.jetty.server.HttpChannel$RequestDispatchable","dispatch","HttpChannel.java",1598],["org.eclipse.jetty.server.HttpChannel","dispatch","HttpChannel.java",753],["org.eclipse.jetty.server.HttpChannel","handle","HttpChannel.java",501],["org.eclipse.jetty.server.HttpConnection","onFillable","HttpConnection.java",287],["org.eclipse.jetty.io.AbstractConnection$ReadCallback","succeeded","AbstractConnection.java",314],["org.eclipse.jetty.io.FillInterest","fillable","FillInterest.java",100],["org.eclipse.jetty.io.SelectableChannelEndPoint$1","run","SelectableChannelEndPoint.java",53],["org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy","runTask","AdaptiveExecutionStrategy.java",421],["org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy","consumeTask","AdaptiveExecutionStrategy.java",390],["org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy","tryProduce","AdaptiveExecutionStrategy.java",277],["org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy","run","AdaptiveExecutionStrategy.java",199],["org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread","run","ReservedThreadExecutor.java",411],["org.eclipse.jetty.util.thread.QueuedThreadPool","runJob","QueuedThreadPool.java",969],["org.eclipse.jetty.util.thread.QueuedThreadPool$Runner","doRunJob","QueuedThreadPool.java",1194],["org.eclipse.jetty.util.thread.QueuedThreadPool$Runner","run","QueuedThreadPool.java",1149],["java.lang.Thread","run",null,-1]],"cause":"ERROR: insert or update on table \"report_card\" violates foreign key constraint \"fk_report_card_ref_table_id\"\n  Detail: Key (table_id)=(1074) is not present in table \"metabase_table\".","message":"ERROR: insert or update on table \"report_card\" violates foreign key constraint \"fk_report_card_ref_table_id\"\n  Detail: Key (table_id)=(1074) is not present in table \"metabase_table\"."}