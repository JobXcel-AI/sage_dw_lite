{
  "cache_invalidated_at": null,
  "description": null,
  "archived": false,
  "view_count": 118,
  "collection_position": null,
  "table_id": 109,
  "can_run_adhoc_query": true,
  "result_metadata": [
    {
      "display_name": "pivot-grouping",
      "field_ref": [
        "expression",
        "pivot-grouping"
      ],
      "base_type": "type/Integer",
      "effective_type": "type/Text",
      "name": "Job Number",
      "semantic_type": null,
      "fingerprint": {
        "global": {
          "distinct-count": 1,
          "nil%": 0.0
        },
        "type": {
          "type/Number": {
            "min": 7.0,
            "q1": 7.0,
            "q3": 7.0,
            "max": 7.0,
            "sd": null,
            "avg": 7.0
          }
        }
      }
    },
    {
      "display_name": "Sum of Budget",
      "field_ref": [
        "aggregation",
        0
      ],
      "base_type": "type/Decimal",
      "effective_type": "type/Text",
      "name": "Cost Code",
      "semantic_type": null,
      "fingerprint": {
        "global": {
          "distinct-count": 1,
          "nil%": 0.0
        },
        "type": {
          "type/Number": {
            "min": 2563209.61,
            "q1": 2563209.61,
            "q3": 2563209.61,
            "max": 2563209.61,
            "sd": null,
            "avg": 2563209.61
          }
        }
      }
    },
    {
      "display_name": "Sum of Approved Change Amount",
      "field_ref": [
        "aggregation",
        1
      ],
      "base_type": "type/Decimal",
      "effective_type": "type/Text",
      "name": "Cost Type",
      "semantic_type": null,
      "fingerprint": {
        "global": {
          "distinct-count": 1,
          "nil%": 0.0
        },
        "type": {
          "type/Number": {
            "min": 74084.67,
            "q1": 74084.67,
            "q3": 74084.67,
            "max": 74084.67,
            "sd": null,
            "avg": 74084.67
          }
        }
      }
    },
    {
      "display_name": "Sum of Revised Budget",
      "field_ref": [
        "aggregation",
        2
      ],
      "base_type": "type/Decimal",
      "effective_type": "type/Integer",
      "name": "pivot-grouping",
      "semantic_type": null,
      "fingerprint": {
        "global": {
          "distinct-count": 1,
          "nil%": 0.0
        },
        "type": {
          "type/Number": {
            "min": 2637294.28,
            "q1": 2637294.28,
            "q3": 2637294.28,
            "max": 2637294.28,
            "sd": null,
            "avg": 2637294.28
          }
        }
      }
    },
    {
      "display_name": "Sum of Job Cost",
      "field_ref": [
        "aggregation",
        3
      ],
      "base_type": "type/Decimal",
      "effective_type": "type/Decimal",
      "name": "sum",
      "semantic_type": null,
      "fingerprint": {
        "global": {
          "distinct-count": 1,
          "nil%": 0.0
        },
        "type": {
          "type/Number": {
            "min": 2196944.83,
            "q1": 2196944.83,
            "q3": 2196944.83,
            "max": 2196944.83,
            "sd": null,
            "avg": 2196944.83
          }
        }
      }
    },
    {
      "display_name": "Sum of Committed POs",
      "field_ref": [
        "aggregation",
        4
      ],
      "base_type": "type/Decimal",
      "effective_type": "type/Decimal",
      "name": "sum_2",
      "semantic_type": null,
      "fingerprint": {
        "global": {
          "distinct-count": 1,
          "nil%": 0.0
        },
        "type": {
          "type/Number": {
            "min": 189445.72,
            "q1": 189445.72,
            "q3": 189445.72,
            "max": 189445.72,
            "sd": null,
            "avg": 189445.72
          }
        }
      }
    },
    {
      "display_name": "Sum of Committed Subcontracts",
      "field_ref": [
        "aggregation",
        5
      ],
      "base_type": "type/Decimal",
      "effective_type": "type/Decimal",
      "name": "sum_3",
      "semantic_type": null,
      "fingerprint": {
        "global": {
          "distinct-count": 1,
          "nil%": 0.0
        },
        "type": {
          "type/Number": {
            "min": 0.0,
            "q1": 0.0,
            "q3": 0.0,
            "max": 0.0,
            "sd": null,
            "avg": 0.0
          }
        }
      }
    },
    {
      "display_name": "Sum of Balance Remaining",
      "field_ref": [
        "aggregation",
        6
      ],
      "base_type": "type/Decimal",
      "effective_type": "type/Decimal",
      "name": "sum_4",
      "semantic_type": null,
      "fingerprint": {
        "global": {
          "distinct-count": 1,
          "nil%": 0.0
        },
        "type": {
          "type/Number": {
            "min": 250903.73,
            "q1": 250903.73,
            "q3": 250903.73,
            "max": 250903.73,
            "sd": null,
            "avg": 250903.73
          }
        }
      }
    },
    {
      "display_name": "Projected Costs",
      "field_ref": [
        "aggregation",
        7
      ],
      "base_type": "type/Decimal",
      "effective_type": "type/Decimal",
      "name": "sum_5",
      "semantic_type": "type/Cost",
      "fingerprint": {
        "global": {
          "distinct-count": 1,
          "nil%": 0.0
        },
        "type": {
          "type/Number": {
            "min": 2646468.31,
            "q1": 2646468.31,
            "q3": 2646468.31,
            "max": 2646468.31,
            "sd": null,
            "avg": 2646468.31
          }
        }
      }
    }
  ],
  "creator": {
    "email": "rfullmer@jobxcel.ai",
    "first_name": "Randy",
    "last_login": "2025-02-05T17:33:59.306782Z",
    "is_qbnewb": false,
    "is_superuser": true,
    "id": 3,
    "last_name": "Fullmer",
    "date_joined": "2024-10-30T23:37:38.466509Z",
    "common_name": "Randy Fullmer"
  },
  "database_id": 5,
  "enable_embedding": false,
  "collection_id": null,
  "query_type": "query",
  "name": "Jobs by Cost Code/Type",
  "type": "question",
  "dataset_query": {
    "database": 5,
    "type": "query",
    "query": {
      "aggregation": [
        [
          "sum",
          [
            "field",
            "Budget",
            {
              "base-type": "type/Decimal"
            }
          ]
        ],
        [
          "sum",
          [
            "field",
            "Approved Change Amount",
            {
              "base-type": "type/Decimal"
            }
          ]
        ],
        [
          "sum",
          [
            "field",
            "Revised Budget",
            {
              "base-type": "type/Decimal"
            }
          ]
        ],
        [
          "sum",
          [
            "field",
            "Job Cost",
            {
              "base-type": "type/Decimal"
            }
          ]
        ],
        [
          "sum",
          [
            "field",
            "Committed POs",
            {
              "base-type": "type/Decimal"
            }
          ]
        ],
        [
          "sum",
          [
            "field",
            "Committed Subcontracts",
            {
              "base-type": "type/Decimal"
            }
          ]
        ],
        [
          "sum",
          [
            "field",
            "Balance Remaining",
            {
              "base-type": "type/Decimal"
            }
          ]
        ],
        [
          "aggregation-options",
          [
            "sum",
            [
              "case",
              [
                [
                  [
                    "<",
                    [
                      "field",
                      "Balance Remaining",
                      {
                        "base-type": "type/Decimal"
                      }
                    ],
                    0
                  ],
                  [
                    "-",
                    [
                      "field",
                      "Revised Budget",
                      {
                        "base-type": "type/Decimal"
                      }
                    ],
                    [
                      "field",
                      "Balance Remaining",
                      {
                        "base-type": "type/Decimal"
                      }
                    ]
                  ]
                ]
              ],
              {
                "default": [
                  "field",
                  "Revised Budget",
                  {
                    "base-type": "type/Decimal"
                  }
                ]
              }
            ]
          ],
          {
            "display-name": "Projected Costs",
            "name": "Projected Costs"
          }
        ]
      ],
      "breakout": [
        [
          "field",
          "Job Number",
          {
            "base-type": "type/Text"
          }
        ],
        [
          "field",
          "Cost Code",
          {
            "base-type": "type/Text"
          }
        ],
        [
          "field",
          "Cost Type",
          {
            "base-type": "type/Text"
          }
        ]
      ],
      "filter": [
        "!=",
        [
          "+",
          [
            "field",
            "Budget",
            {
              "base-type": "type/Decimal"
            }
          ],
          [
            "field",
            "Revised Budget",
            {
              "base-type": "type/Decimal"
            }
          ],
          [
            "field",
            "Job Cost",
            {
              "base-type": "type/Decimal"
            }
          ],
          [
            "field",
            "Committed POs",
            {
              "base-type": "type/Decimal"
            }
          ],
          [
            "field",
            "Committed Subcontracts",
            {
              "base-type": "type/Decimal"
            }
          ]
        ],
        0
      ],
      "source-query": {
        "aggregation": [
          [
            "aggregation-options",
            [
              "max",
              [
                "case",
                [
                  [
                    [
                      "is-null",
                      [
                        "field",
                        "Budget",
                        {
                          "base-type": "type/Decimal"
                        }
                      ]
                    ],
                    0
                  ]
                ],
                {
                  "default": [
                    "field",
                    "Budget",
                    {
                      "base-type": "type/Decimal"
                    }
                  ]
                }
              ]
            ],
            {
              "display-name": "Budget",
              "name": "Budget"
            }
          ],
          [
            "aggregation-options",
            [
              "max",
              [
                "case",
                [
                  [
                    [
                      "is-null",
                      [
                        "field",
                        "Approved Change Amount",
                        {
                          "base-type": "type/Decimal"
                        }
                      ]
                    ],
                    0
                  ]
                ],
                {
                  "default": [
                    "field",
                    "Approved Change Amount",
                    {
                      "base-type": "type/Decimal"
                    }
                  ]
                }
              ]
            ],
            {
              "display-name": "Approved Change Amount",
              "name": "Approved Change Amount"
            }
          ],
          [
            "aggregation-options",
            [
              "max",
              [
                "case",
                [
                  [
                    [
                      "is-null",
                      [
                        "field",
                        "Revised Budget",
                        {
                          "base-type": "type/Decimal"
                        }
                      ]
                    ],
                    0
                  ]
                ],
                {
                  "default": [
                    "field",
                    "Revised Budget",
                    {
                      "base-type": "type/Decimal"
                    }
                  ]
                }
              ]
            ],
            {
              "display-name": "Revised Budget",
              "name": "Revised Budget"
            }
          ],
          [
            "aggregation-options",
            [
              "max",
              [
                "case",
                [
                  [
                    [
                      "is-null",
                      [
                        "field",
                        "Job Cost",
                        {
                          "base-type": "type/Decimal"
                        }
                      ]
                    ],
                    0
                  ]
                ],
                {
                  "default": [
                    "field",
                    "Job Cost",
                    {
                      "base-type": "type/Decimal"
                    }
                  ]
                }
              ]
            ],
            {
              "display-name": "Job Cost",
              "name": "Job Cost"
            }
          ],
          [
            "aggregation-options",
            [
              "max",
              [
                "case",
                [
                  [
                    [
                      "is-null",
                      [
                        "field",
                        "Committed POs",
                        {
                          "base-type": "type/Decimal"
                        }
                      ]
                    ],
                    0
                  ]
                ],
                {
                  "default": [
                    "field",
                    "Committed POs",
                    {
                      "base-type": "type/Decimal"
                    }
                  ]
                }
              ]
            ],
            {
              "display-name": "Committed POs",
              "name": "Committed POs"
            }
          ],
          [
            "aggregation-options",
            [
              "sum",
              [
                "case",
                [
                  [
                    [
                      "is-null",
                      [
                        "field",
                        3204,
                        {
                          "base-type": "type/Decimal",
                          "join-alias": "Subcontract Lines - Job Number3"
                        }
                      ]
                    ],
                    0
                  ]
                ],
                {
                  "default": [
                    "field",
                    3204,
                    {
                      "base-type": "type/Decimal",
                      "join-alias": "Subcontract Lines - Job Number3"
                    }
                  ]
                }
              ]
            ],
            {
              "display-name": "Committed Subcontracts",
              "name": "Committed Subcontracts"
            }
          ],
          [
            "aggregation-options",
            [
              "-",
              [
                "max",
                [
                  "case",
                  [
                    [
                      [
                        "is-null",
                        [
                          "field",
                          "Revised Budget",
                          {
                            "base-type": "type/Decimal"
                          }
                        ]
                      ],
                      0
                    ]
                  ],
                  {
                    "default": [
                      "field",
                      "Revised Budget",
                      {
                        "base-type": "type/Decimal"
                      }
                    ]
                  }
                ]
              ],
              [
                "max",
                [
                  "case",
                  [
                    [
                      [
                        "is-null",
                        [
                          "field",
                          "Job Cost",
                          {
                            "base-type": "type/Decimal"
                          }
                        ]
                      ],
                      0
                    ]
                  ],
                  {
                    "default": [
                      "field",
                      "Job Cost",
                      {
                        "base-type": "type/Decimal"
                      }
                    ]
                  }
                ]
              ],
              [
                "max",
                [
                  "case",
                  [
                    [
                      [
                        "is-null",
                        [
                          "field",
                          "Committed POs",
                          {
                            "base-type": "type/Decimal"
                          }
                        ]
                      ],
                      0
                    ]
                  ],
                  {
                    "default": [
                      "field",
                      "Committed POs",
                      {
                        "base-type": "type/Decimal"
                      }
                    ]
                  }
                ]
              ],
              [
                "sum",
                [
                  "case",
                  [
                    [
                      [
                        "is-null",
                        [
                          "field",
                          3204,
                          {
                            "base-type": "type/Decimal",
                            "join-alias": "Subcontract Lines - Job Number3"
                          }
                        ]
                      ],
                      0
                    ]
                  ],
                  {
                    "default": [
                      "field",
                      3204,
                      {
                        "base-type": "type/Decimal",
                        "join-alias": "Subcontract Lines - Job Number3"
                      }
                    ]
                  }
                ]
              ]
            ],
            {
              "display-name": "Balance Remaining",
              "name": "Balance Remaining"
            }
          ]
        ],
        "breakout": [
          [
            "expression",
            "Job Number",
            {
              "base-type": "type/Text"
            }
          ],
          [
            "expression",
            "Cost Code",
            {
              "base-type": "type/Text"
            }
          ],
          [
            "expression",
            "Cost Type",
            {
              "base-type": "type/Text"
            }
          ]
        ],
        "expressions": {
          "Cost Code": [
            "concat",
            [
              "coalesce",
              [
                "field",
                "Cost Code3",
                {
                  "base-type": "type/Text"
                }
              ],
              [
                "field",
                3205,
                {
                  "base-type": "type/Text",
                  "join-alias": "Subcontract Lines - Job Number3"
                }
              ]
            ],
            " ",
            [
              "field",
              "Cost Code Name2",
              {
                "base-type": "type/Text"
              }
            ]
          ],
          "Cost Type": [
            "coalesce",
            [
              "field",
              "Cost Type3",
              {
                "base-type": "type/Text"
              }
            ],
            [
              "field",
              3214,
              {
                "base-type": "type/Text",
                "join-alias": "Subcontract Lines - Job Number3"
              }
            ]
          ],
          "Job Number": [
            "ltrim",
            [
              "coalesce",
              [
                "field",
                "Job Number3",
                {
                  "base-type": "type/BigInteger"
                }
              ],
              [
                "field",
                3207,
                {
                  "base-type": "type/BigInteger",
                  "join-alias": "Subcontract Lines - Job Number3"
                }
              ]
            ]
          ]
        },
        "joins": [
          {
            "alias": "Subcontract Lines - Job Number3",
            "strategy": "left-join",
            "condition": [
              "and",
              [
                "=",
                [
                  "field",
                  "Job Number3",
                  {
                    "base-type": "type/BigInteger"
                  }
                ],
                [
                  "field",
                  3076,
                  {
                    "base-type": "type/BigInteger",
                    "join-alias": "Subcontract Lines - Job Number3"
                  }
                ]
              ],
              [
                "=",
                [
                  "field",
                  "Cost Code3",
                  {
                    "base-type": "type/Text"
                  }
                ],
                [
                  "field",
                  3185,
                  {
                    "base-type": "type/Text",
                    "join-alias": "Subcontract Lines - Job Number3"
                  }
                ]
              ],
              [
                "=",
                [
                  "field",
                  "Cost Type3",
                  {
                    "base-type": "type/Text"
                  }
                ],
                [
                  "field",
                  3188,
                  {
                    "base-type": "type/Text",
                    "join-alias": "Subcontract Lines - Job Number3"
                  }
                ]
              ]
            ],
            "source-table": 119
          }
        ],
        "source-query": {
          "aggregation": [
            [
              "aggregation-options",
              [
                "max",
                [
                  "case",
                  [
                    [
                      [
                        "is-null",
                        [
                          "field",
                          "Budget",
                          {
                            "base-type": "type/Decimal"
                          }
                        ]
                      ],
                      0
                    ]
                  ],
                  {
                    "default": [
                      "field",
                      "Budget",
                      {
                        "base-type": "type/Decimal"
                      }
                    ]
                  }
                ]
              ],
              {
                "display-name": "Budget",
                "name": "Budget"
              }
            ],
            [
              "aggregation-options",
              [
                "max",
                [
                  "case",
                  [
                    [
                      [
                        "is-null",
                        [
                          "field",
                          "Approved Change Amount",
                          {
                            "base-type": "type/Decimal"
                          }
                        ]
                      ],
                      0
                    ]
                  ],
                  {
                    "default": [
                      "field",
                      "Approved Change Amount",
                      {
                        "base-type": "type/Decimal"
                      }
                    ]
                  }
                ]
              ],
              {
                "display-name": "Approved Change Amount",
                "name": "Approved Change Amount"
              }
            ],
            [
              "aggregation-options",
              [
                "max",
                [
                  "case",
                  [
                    [
                      [
                        "is-null",
                        [
                          "field",
                          "Revised Budget",
                          {
                            "base-type": "type/Decimal"
                          }
                        ]
                      ],
                      0
                    ]
                  ],
                  {
                    "default": [
                      "field",
                      "Revised Budget",
                      {
                        "base-type": "type/Decimal"
                      }
                    ]
                  }
                ]
              ],
              {
                "display-name": "Revised Budget",
                "name": "Revised Budget"
              }
            ],
            [
              "aggregation-options",
              [
                "max",
                [
                  "case",
                  [
                    [
                      [
                        "is-null",
                        [
                          "field",
                          "Job Cost",
                          {
                            "base-type": "type/Decimal"
                          }
                        ]
                      ],
                      0
                    ]
                  ],
                  {
                    "default": [
                      "field",
                      "Job Cost",
                      {
                        "base-type": "type/Decimal"
                      }
                    ]
                  }
                ]
              ],
              {
                "display-name": "Job Cost",
                "name": "Job Cost"
              }
            ],
            [
              "aggregation-options",
              [
                "sum",
                [
                  "case",
                  [
                    [
                      [
                        "is-null",
                        [
                          "field",
                          3387,
                          {
                            "base-type": "type/Decimal",
                            "join-alias": "Purchase Order Lines - Job Number2"
                          }
                        ]
                      ],
                      0
                    ]
                  ],
                  {
                    "default": [
                      "field",
                      3387,
                      {
                        "base-type": "type/Decimal",
                        "join-alias": "Purchase Order Lines - Job Number2"
                      }
                    ]
                  }
                ]
              ],
              {
                "display-name": "Committed POs",
                "name": "Committed POs"
              }
            ]
          ],
          "breakout": [
            [
              "expression",
              "Job Number3",
              {
                "base-type": "type/BigInteger"
              }
            ],
            [
              "expression",
              "Cost Code3",
              {
                "base-type": "type/Text"
              }
            ],
            [
              "expression",
              "Cost Type3",
              {
                "base-type": "type/Text"
              }
            ],
            [
              "field",
              "Cost Code Name2",
              {
                "base-type": "type/Text"
              }
            ]
          ],
          "expressions": {
            "Cost Code3": [
              "coalesce",
              [
                "field",
                "Cost Code2",
                {
                  "base-type": "type/Text"
                }
              ],
              [
                "field",
                3396,
                {
                  "base-type": "type/Text",
                  "join-alias": "Purchase Order Lines - Job Number2"
                }
              ]
            ],
            "Cost Type3": [
              "coalesce",
              [
                "field",
                "Cost Type2",
                {
                  "base-type": "type/Text"
                }
              ],
              [
                "field",
                3403,
                {
                  "base-type": "type/Text",
                  "join-alias": "Purchase Order Lines - Job Number2"
                }
              ]
            ],
            "Job Number3": [
              "coalesce",
              [
                "field",
                "Job Number2",
                {
                  "base-type": "type/BigInteger"
                }
              ],
              [
                "field",
                3376,
                {
                  "base-type": "type/BigInteger",
                  "join-alias": "Purchase Order Lines - Job Number2"
                }
              ]
            ]
          },
          "joins": [
            {
              "alias": "Purchase Order Lines - Job Number2",
              "strategy": "full-join",
              "condition": [
                "and",
                [
                  "=",
                  [
                    "field",
                    "Job Number2",
                    {
                      "base-type": "type/BigInteger"
                    }
                  ],
                  [
                    "field",
                    3076,
                    {
                      "base-type": "type/BigInteger",
                      "join-alias": "Purchase Order Lines - Job Number2"
                    }
                  ]
                ],
                [
                  "=",
                  [
                    "field",
                    "Cost Type2",
                    {
                      "base-type": "type/Text"
                    }
                  ],
                  [
                    "field",
                    3188,
                    {
                      "base-type": "type/Text",
                      "join-alias": "Purchase Order Lines - Job Number2"
                    }
                  ]
                ],
                [
                  "=",
                  [
                    "field",
                    "Cost Code2",
                    {
                      "base-type": "type/Text"
                    }
                  ],
                  [
                    "field",
                    3185,
                    {
                      "base-type": "type/Text",
                      "join-alias": "Purchase Order Lines - Job Number2"
                    }
                  ]
                ]
              ],
              "source-table": 124
            }
          ],
          "source-query": {
            "aggregation": [
              [
                "aggregation-options",
                [
                  "max",
                  [
                    "case",
                    [
                      [
                        [
                          "is-null",
                          [
                            "field",
                            "Budget",
                            {
                              "base-type": "type/Decimal"
                            }
                          ]
                        ],
                        0
                      ]
                    ],
                    {
                      "default": [
                        "field",
                        "Budget",
                        {
                          "base-type": "type/Decimal"
                        }
                      ]
                    }
                  ]
                ],
                {
                  "display-name": "Budget",
                  "name": "Budget"
                }
              ],
              [
                "aggregation-options",
                [
                  "max",
                  [
                    "case",
                    [
                      [
                        [
                          "is-null",
                          [
                            "field",
                            "Approved Change Amount",
                            {
                              "base-type": "type/Decimal"
                            }
                          ]
                        ],
                        0
                      ]
                    ],
                    {
                      "default": [
                        "field",
                        "Approved Change Amount",
                        {
                          "base-type": "type/Decimal"
                        }
                      ]
                    }
                  ]
                ],
                {
                  "display-name": "Approved Change Amount",
                  "name": "Approved Change Amount"
                }
              ],
              [
                "aggregation-options",
                [
                  "max",
                  [
                    "case",
                    [
                      [
                        [
                          "is-null",
                          [
                            "field",
                            "Revised Budget",
                            {
                              "base-type": "type/Decimal"
                            }
                          ]
                        ],
                        0
                      ]
                    ],
                    {
                      "default": [
                        "field",
                        "Revised Budget",
                        {
                          "base-type": "type/Decimal"
                        }
                      ]
                    }
                  ]
                ],
                {
                  "display-name": "Revised Budget",
                  "name": "Revised Budget"
                }
              ],
              [
                "aggregation-options",
                [
                  "sum",
                  [
                    "case",
                    [
                      [
                        [
                          "is-null",
                          [
                            "field",
                            3089,
                            {
                              "base-type": "type/Decimal",
                              "join-alias": "Job Cost - Job Number1"
                            }
                          ]
                        ],
                        0
                      ]
                    ],
                    {
                      "default": [
                        "field",
                        3089,
                        {
                          "base-type": "type/Decimal",
                          "join-alias": "Job Cost - Job Number1"
                        }
                      ]
                    }
                  ]
                ],
                {
                  "display-name": "Job Cost",
                  "name": "Job Cost"
                }
              ]
            ],
            "breakout": [
              [
                "expression",
                "Job Number2",
                {
                  "base-type": "type/BigInteger"
                }
              ],
              [
                "expression",
                "Cost Code2",
                {
                  "base-type": "type/Text"
                }
              ],
              [
                "expression",
                "Cost Type2",
                {
                  "base-type": "type/Text"
                }
              ],
              [
                "expression",
                "Cost Code Name2",
                {
                  "base-type": "type/Text"
                }
              ]
            ],
            "expressions": {
              "Cost Code Name2": [
                "coalesce",
                [
                  "field",
                  "Cost Code Name1",
                  {
                    "base-type": "type/Text"
                  }
                ],
                [
                  "field",
                  3086,
                  {
                    "base-type": "type/Text",
                    "join-alias": "Job Cost - Job Number1"
                  }
                ]
              ],
              "Cost Code2": [
                "coalesce",
                [
                  "field",
                  "Cost Code1",
                  {
                    "base-type": "type/Text"
                  }
                ],
                [
                  "field",
                  3091,
                  {
                    "base-type": "type/Text",
                    "join-alias": "Job Cost - Job Number1"
                  }
                ]
              ],
              "Cost Type2": [
                "coalesce",
                [
                  "field",
                  "Cost Type1",
                  {
                    "base-type": "type/Text"
                  }
                ],
                [
                  "field",
                  3090,
                  {
                    "base-type": "type/Text",
                    "join-alias": "Job Cost - Job Number1"
                  }
                ]
              ],
              "Job Number2": [
                "coalesce",
                [
                  "field",
                  "Job Number1",
                  {
                    "base-type": "type/BigInteger"
                  }
                ],
                [
                  "field",
                  3095,
                  {
                    "base-type": "type/BigInteger",
                    "join-alias": "Job Cost - Job Number1"
                  }
                ]
              ]
            },
            "joins": [
              {
                "alias": "Job Cost - Job Number1",
                "fields": "all",
                "strategy": "full-join",
                "condition": [
                  "and",
                  [
                    "=",
                    [
                      "field",
                      "Job Number1",
                      {
                        "base-type": "type/BigInteger"
                      }
                    ],
                    [
                      "field",
                      3076,
                      {
                        "base-type": "type/BigInteger",
                        "join-alias": "Job Cost - Job Number1"
                      }
                    ]
                  ],
                  [
                    "=",
                    [
                      "field",
                      "Cost Code1",
                      {
                        "base-type": "type/Text"
                      }
                    ],
                    [
                      "field",
                      3091,
                      {
                        "base-type": "type/Text",
                        "join-alias": "Job Cost - Job Number1"
                      }
                    ]
                  ],
                  [
                    "=",
                    [
                      "field",
                      "Cost Type1",
                      {
                        "base-type": "type/Text"
                      }
                    ],
                    [
                      "field",
                      3188,
                      {
                        "base-type": "type/Text",
                        "join-alias": "Job Cost - Job Number1"
                      }
                    ]
                  ]
                ],
                "source-table": 115
              }
            ],
            "source-query": {
              "aggregation": [
                [
                  "aggregation-options",
                  [
                    "sum",
                    [
                      "case",
                      [
                        [
                          [
                            "is-null",
                            [
                              "field",
                              3193,
                              {
                                "base-type": "type/Decimal",
                                "join-alias": "Change Order Lines - Job Number"
                              }
                            ]
                          ],
                          0
                        ]
                      ],
                      {
                        "default": [
                          "field",
                          3193,
                          {
                            "base-type": "type/Decimal",
                            "join-alias": "Change Order Lines - Job Number"
                          }
                        ]
                      }
                    ]
                  ],
                  {
                    "display-name": "Approved Change Amount",
                    "name": "Approved Change Amount"
                  }
                ],
                [
                  "aggregation-options",
                  [
                    "max",
                    [
                      "case",
                      [
                        [
                          [
                            "is-null",
                            [
                              "field",
                              2863,
                              {
                                "base-type": "type/Decimal"
                              }
                            ]
                          ],
                          0
                        ]
                      ],
                      {
                        "default": [
                          "field",
                          2863,
                          {
                            "base-type": "type/Decimal"
                          }
                        ]
                      }
                    ]
                  ],
                  {
                    "display-name": "Budget",
                    "name": "Budget"
                  }
                ],
                [
                  "aggregation-options",
                  [
                    "+",
                    [
                      "max",
                      [
                        "case",
                        [
                          [
                            [
                              "is-null",
                              [
                                "field",
                                2863,
                                {
                                  "base-type": "type/Decimal"
                                }
                              ]
                            ],
                            0
                          ]
                        ],
                        {
                          "default": [
                            "field",
                            2863,
                            {
                              "base-type": "type/Decimal"
                            }
                          ]
                        }
                      ]
                    ],
                    [
                      "sum",
                      [
                        "case",
                        [
                          [
                            [
                              "is-null",
                              [
                                "field",
                                3193,
                                {
                                  "base-type": "type/Decimal",
                                  "join-alias": "Change Order Lines - Job Number"
                                }
                              ]
                            ],
                            0
                          ]
                        ],
                        {
                          "default": [
                            "field",
                            3193,
                            {
                              "base-type": "type/Decimal",
                              "join-alias": "Change Order Lines - Job Number"
                            }
                          ]
                        }
                      ]
                    ]
                  ],
                  {
                    "display-name": "Revised Budget",
                    "name": "Revised Budget"
                  }
                ]
              ],
              "breakout": [
                [
                  "expression",
                  "Job Number1",
                  {
                    "base-type": "type/BigInteger"
                  }
                ],
                [
                  "expression",
                  "Cost Code1",
                  {
                    "base-type": "type/Text"
                  }
                ],
                [
                  "expression",
                  "Cost Code Name1",
                  {
                    "base-type": "type/Text"
                  }
                ],
                [
                  "expression",
                  "Cost Type1",
                  {
                    "base-type": "type/Text"
                  }
                ]
              ],
              "expressions": {
                "Cost Code Name1": [
                  "coalesce",
                  [
                    "field",
                    2861,
                    {
                      "base-type": "type/Text"
                    }
                  ],
                  [
                    "field",
                    3186,
                    {
                      "base-type": "type/Text",
                      "join-alias": "Change Order Lines - Job Number"
                    }
                  ]
                ],
                "Cost Code1": [
                  "coalesce",
                  [
                    "field",
                    2860,
                    {
                      "base-type": "type/Text"
                    }
                  ],
                  [
                    "field",
                    3185,
                    {
                      "base-type": "type/Text",
                      "join-alias": "Change Order Lines - Job Number"
                    }
                  ]
                ],
                "Cost Type1": [
                  "coalesce",
                  [
                    "field",
                    2862,
                    {
                      "base-type": "type/Text"
                    }
                  ],
                  [
                    "field",
                    3188,
                    {
                      "base-type": "type/Text",
                      "join-alias": "Change Order Lines - Job Number"
                    }
                  ]
                ],
                "Job Number1": [
                  "coalesce",
                  [
                    "field",
                    3196,
                    {
                      "base-type": "type/BigInteger",
                      "join-alias": "Change Order Lines - Job Number"
                    }
                  ],
                  [
                    "field",
                    2864,
                    {
                      "base-type": "type/BigInteger"
                    }
                  ]
                ]
              },
              "joins": [
                {
                  "alias": "Change Order Lines - Job Number",
                  "strategy": "full-join",
                  "condition": [
                    "and",
                    [
                      "=",
                      [
                        "field",
                        3076,
                        {
                          "base-type": "type/BigInteger"
                        }
                      ],
                      [
                        "field",
                        3076,
                        {
                          "base-type": "type/BigInteger",
                          "join-alias": "Change Order Lines - Job Number"
                        }
                      ]
                    ],
                    [
                      "=",
                      [
                        "field",
                        3185,
                        {
                          "base-type": "type/Text"
                        }
                      ],
                      [
                        "field",
                        3185,
                        {
                          "base-type": "type/Text",
                          "join-alias": "Change Order Lines - Job Number"
                        }
                      ]
                    ],
                    [
                      "=",
                      [
                        "field",
                        3188,
                        {
                          "base-type": "type/Text"
                        }
                      ],
                      [
                        "field",
                        3188,
                        {
                          "base-type": "type/Text",
                          "join-alias": "Change Order Lines - Job Number"
                        }
                      ]
                    ]
                  ],
                  "source-table": 118
                }
              ],
              "source-table": 109
            }
          }
        }
      }
    }
  },
  "visualization_settings": {
    "pivot_table.column_split": {
      "columns": [],
      "rows": [
        [
          "field",
          "Job Number",
          {
            "base-type": "type/Text"
          }
        ],
        [
          "field",
          "Cost Code",
          {
            "base-type": "type/Text"
          }
        ],
        [
          "field",
          "Cost Type",
          {
            "base-type": "type/Text"
          }
        ]
      ],
      "values": [
        [
          "aggregation",
          0
        ],
        [
          "aggregation",
          1
        ],
        [
          "aggregation",
          2
        ],
        [
          "aggregation",
          3
        ],
        [
          "aggregation",
          4
        ],
        [
          "aggregation",
          5
        ],
        [
          "aggregation",
          6
        ],
        [
          "aggregation",
          7
        ]
      ]
    },
    "pivot_table.column_widths": {
      "leftHeaderWidths": [
        106,
        240,
        93
      ],
      "totalLeftHeaderWidths": 439,
      "valueHeaderWidths": {}
    },
    "pivot.show_row_totals": false,
    "table.cell_column": "sum",
    "table.pivot_column": "cost_type",
    "column_settings": {
      "[\"name\",\"sum\"]": {
        "column_title": "",
        "number_style": "currency"
      },
      "[\"name\",\"sum_5\"]": {
        "column_title": "",
        "number_style": "currency"
      },
      "[\"name\",\"max_2\"]": {
        "column_title": ""
      },
      "[\"name\",\"Revised Budget\"]": {
        "number_style": "currency"
      },
      "[\"name\",\"max_3\"]": {
        "column_title": ""
      },
      "[\"name\",\"sum_4\"]": {
        "column_title": "",
        "number_style": "currency"
      },
      "[\"name\",\"max\"]": {
        "column_title": ""
      },
      "[\"name\",\"Balance Remaining\"]": {
        "number_style": "currency"
      },
      "[\"name\",\"sum_3\"]": {
        "column_title": "",
        "number_style": "currency"
      },
      "[\"name\",\"sum_7\"]": {
        "column_title": "",
        "number_style": "currency"
      },
      "[\"name\",\"sum_6\"]": {
        "column_title": "",
        "number_style": "currency"
      },
      "[\"name\",\"Projected Costs\"]": {
        "number_style": "currency"
      },
      "[\"name\",\"sum_2\"]": {
        "column_title": "",
        "number_style": "currency"
      }
    }
  },
  "last_query_start": "2025-02-07T17:42:01.097331Z",
  "last_used_at": "2025-02-07T17:42:07.004016Z",
  "created_at": "2024-11-07T04:50:37.931895Z",
  "updated_at": "2024-11-08T02:38:18.622713Z",
  "id": 35,
  "initially_published_at": null,
  "can_write": true,
  "dashboard_count": 1,
  "average_query_time": 13976.31330472103,
  "creator_id": 3,
  "moderation_reviews": [],
  "made_public_by_id": null,
  "embedding_params": null,
  "cache_ttl": null,
  "parameter_mappings": [],
  "display": "pivot",
  "entity_id": "IiB-QeZQA30cHKVF50h1X",
  "collection_preview": true,
  "last-edit-info": {
    "id": 3,
    "email": "rfullmer@jobxcel.ai",
    "first_name": "Randy",
    "last_name": "Fullmer",
    "timestamp": "2024-11-08T02:38:19.550146Z"
  },
  "collection": {
    "metabase.models.collection.root/is-root?": true,
    "authority_level": null,
    "name": "Our analytics",
    "is_personal": false,
    "id": "root",
    "can_write": true
  },
  "metabase_version": "v0.50.26 (5a65f46)",
  "parameters": [],
  "parameter_usage_count": 0,
  "public_uuid": null
}