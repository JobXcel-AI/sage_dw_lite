{
  "cache_invalidated_at": null,
  "description": null,
  "archived": false,
  "view_count": 207,
  "collection_position": null,
  "table_id": 23,
  "can_run_adhoc_query": true,
  "result_metadata": [
    {
      "description": null,
      "semantic_type": "type/Category",
      "coercion_strategy": null,
      "name": "job_number_job_name",
      "settings": null,
      "fk_target_field_id": null,
      "field_ref": [
        "field",
        305,
        {
          "base-type": "type/Text"
        }
      ],
      "effective_type": "type/Text",
      "id": 305,
      "visibility_type": "normal",
      "display_name": "Job Number Job Name",
      "fingerprint": {
        "global": {
          "distinct-count": 11,
          "nil%": 0.0
        },
        "type": {
          "type/Text": {
            "percent-json": 0.0,
            "percent-url": 0.0,
            "percent-email": 0.0,
            "percent-state": 0.0,
            "average-length": 24.454545454545453
          }
        }
      },
      "base_type": "type/Text"
    },
    {
      "description": null,
      "semantic_type": "type/Quantity",
      "coercion_strategy": null,
      "name": "job_number",
      "settings": null,
      "fk_target_field_id": null,
      "field_ref": [
        "field",
        246,
        {
          "base-type": "type/BigInteger"
        }
      ],
      "effective_type": "type/BigInteger",
      "id": 104,
      "visibility_type": "normal",
      "display_name": "Job Number",
      "fingerprint": {
        "global": {
          "distinct-count": 11,
          "nil%": 0.0
        },
        "type": {
          "type/Number": {
            "min": 1.0,
            "q1": 202.5,
            "q3": 221.75,
            "max": 224.0,
            "sd": 65.10425206055007,
            "avg": 194.1818181818182
          }
        }
      },
      "base_type": "type/BigInteger"
    },
    {
      "description": null,
      "semantic_type": "type/Category",
      "coercion_strategy": null,
      "name": "job_name",
      "settings": null,
      "fk_target_field_id": null,
      "field_ref": [
        "field",
        293,
        {
          "base-type": "type/Text"
        }
      ],
      "effective_type": "type/Text",
      "id": 77,
      "visibility_type": "normal",
      "display_name": "Job Name",
      "fingerprint": {
        "global": {
          "distinct-count": 11,
          "nil%": 0.0
        },
        "type": {
          "type/Text": {
            "percent-json": 0.0,
            "percent-url": 0.0,
            "percent-email": 0.0,
            "percent-state": 0.0,
            "average-length": 18.636363636363637
          }
        }
      },
      "base_type": "type/Text"
    },
    {
      "description": null,
      "semantic_type": "type/Category",
      "coercion_strategy": null,
      "name": "client_name",
      "settings": null,
      "fk_target_field_id": null,
      "field_ref": [
        "field",
        283,
        {
          "base-type": "type/Text"
        }
      ],
      "effective_type": "type/Text",
      "id": 81,
      "visibility_type": "normal",
      "display_name": "Client Name",
      "fingerprint": {
        "global": {
          "distinct-count": 9,
          "nil%": 0.09090909090909091
        },
        "type": {
          "type/Text": {
            "percent-json": 0.0,
            "percent-url": 0.0,
            "percent-email": 0.0,
            "percent-state": 0.0,
            "average-length": 13.090909090909092
          }
        }
      },
      "base_type": "type/Text"
    },
    {
      "description": null,
      "semantic_type": "type/Category",
      "coercion_strategy": null,
      "name": "job_type",
      "settings": null,
      "fk_target_field_id": null,
      "field_ref": [
        "field",
        297,
        {
          "base-type": "type/Text"
        }
      ],
      "effective_type": "type/Text",
      "id": 84,
      "visibility_type": "normal",
      "display_name": "Job Type",
      "fingerprint": {
        "global": {
          "distinct-count": 4,
          "nil%": 0.4545454545454545
        },
        "type": {
          "type/Text": {
            "percent-json": 0.0,
            "percent-url": 0.0,
            "percent-email": 0.0,
            "percent-state": 0.0,
            "average-length": 9.0
          }
        }
      },
      "base_type": "type/Text"
    },
    {
      "description": null,
      "semantic_type": "type/Category",
      "coercion_strategy": null,
      "name": "job_status",
      "settings": null,
      "fk_target_field_id": null,
      "field_ref": [
        "field",
        301,
        {
          "base-type": "type/Text"
        }
      ],
      "effective_type": "type/Text",
      "id": 103,
      "visibility_type": "normal",
      "display_name": "Job Status",
      "fingerprint": {
        "global": {
          "distinct-count": 2,
          "nil%": 0.0
        },
        "type": {
          "type/Text": {
            "percent-json": 0.0,
            "percent-url": 0.0,
            "percent-email": 0.0,
            "percent-state": 0.0,
            "average-length": 7.090909090909091
          }
        }
      },
      "base_type": "type/Text"
    },
    {
      "description": null,
      "semantic_type": null,
      "coercion_strategy": null,
      "unit": "day",
      "name": "project_complete_date",
      "settings": null,
      "fk_target_field_id": null,
      "field_ref": [
        "field",
        264,
        {
          "base-type": "type/Date",
          "temporal-unit": "day"
        }
      ],
      "effective_type": "type/Date",
      "id": 264,
      "visibility_type": "normal",
      "display_name": "Project Complete Date",
      "fingerprint": {
        "global": {
          "distinct-count": 6,
          "nil%": 0.5454545454545455
        },
        "type": {
          "type/DateTime": {
            "earliest": "2023-06-15",
            "latest": "2023-12-20"
          }
        }
      },
      "base_type": "type/Date"
    },
    {
      "description": null,
      "semantic_type": null,
      "coercion_strategy": null,
      "unit": "day",
      "name": "last_payment_received_date",
      "settings": null,
      "fk_target_field_id": null,
      "field_ref": [
        "field",
        261,
        {
          "base-type": "type/Date",
          "temporal-unit": "day"
        }
      ],
      "effective_type": "type/Date",
      "id": 87,
      "visibility_type": "normal",
      "display_name": "Last Payment Received Date",
      "fingerprint": {
        "global": {
          "distinct-count": 4,
          "nil%": 0.7272727272727273
        },
        "type": {
          "type/DateTime": {
            "earliest": "2023-05-17",
            "latest": "2023-06-26"
          }
        }
      },
      "base_type": "type/Date"
    },
    {
      "description": null,
      "semantic_type": "type/Category",
      "coercion_strategy": null,
      "name": "salesperson",
      "settings": null,
      "fk_target_field_id": null,
      "field_ref": [
        "field",
        300,
        {
          "base-type": "type/Text"
        }
      ],
      "effective_type": "type/Text",
      "id": 300,
      "visibility_type": "normal",
      "display_name": "Salesperson",
      "fingerprint": {
        "global": {
          "distinct-count": 1,
          "nil%": 0.0
        },
        "type": {
          "type/Text": {
            "percent-json": 0.0,
            "percent-url": 0.0,
            "percent-email": 0.0,
            "percent-state": 0.0,
            "average-length": 1.0
          }
        }
      },
      "base_type": "type/Text"
    },
    {
      "display_name": "Sum of Invoice Total",
      "semantic_type": null,
      "settings": null,
      "field_ref": [
        "aggregation",
        0
      ],
      "base_type": "type/Decimal",
      "effective_type": "type/Decimal",
      "name": "sum",
      "fingerprint": {
        "global": {
          "distinct-count": 354,
          "nil%": 0.01944444444444444
        },
        "type": {
          "type/Number": {
            "min": 4306.89,
            "q1": 1466211.3744469606,
            "q3": 4094656.1541520185,
            "max": 6755321.77,
            "sd": 1683517.7678519164,
            "avg": 2881924.125155807
          }
        }
      }
    },
    {
      "display_name": "Sum of Invoice Sales Tax",
      "semantic_type": null,
      "settings": null,
      "field_ref": [
        "aggregation",
        1
      ],
      "base_type": "type/Decimal",
      "effective_type": "type/Decimal",
      "name": "sum_2",
      "fingerprint": {
        "global": {
          "distinct-count": 351,
          "nil%": 0.01944444444444444
        },
        "type": {
          "type/Number": {
            "min": 0.0,
            "q1": 146621.13856480535,
            "q3": 409465.61492158857,
            "max": 675532.18,
            "sd": 169225.36606289505,
            "avg": 287611.52654390933
          }
        }
      }
    },
    {
      "display_name": "Sum of Invoice Balance",
      "semantic_type": null,
      "settings": null,
      "field_ref": [
        "aggregation",
        2
      ],
      "base_type": "type/Decimal",
      "effective_type": "type/Decimal",
      "name": "sum_3",
      "fingerprint": {
        "global": {
          "distinct-count": 354,
          "nil%": 0.0
        },
        "type": {
          "type/Number": {
            "min": -251171.21,
            "q1": 92379.46551677043,
            "q3": 914164.6755555556,
            "max": 2710069.76,
            "sd": 596326.0816106258,
            "avg": 568013.4722777779
          }
        }
      }
    },
    {
      "display_name": "Sum of Material Cost",
      "semantic_type": "type/Cost",
      "settings": null,
      "field_ref": [
        "aggregation",
        3
      ],
      "base_type": "type/Decimal",
      "effective_type": "type/Decimal",
      "name": "sum_4",
      "fingerprint": {
        "global": {
          "distinct-count": 356,
          "nil%": 0.0
        },
        "type": {
          "type/Number": {
            "min": 0.0,
            "q1": 301271.3180700718,
            "q3": 869022.247015264,
            "max": 1540464.79,
            "sd": 367366.5437669692,
            "avg": 615183.1717777778
          }
        }
      }
    },
    {
      "display_name": "Sum of Labor Cost",
      "semantic_type": "type/Cost",
      "settings": null,
      "field_ref": [
        "aggregation",
        4
      ],
      "base_type": "type/Decimal",
      "effective_type": "type/Decimal",
      "name": "sum_5",
      "fingerprint": {
        "global": {
          "distinct-count": 355,
          "nil%": 0.0
        },
        "type": {
          "type/Number": {
            "min": 0.0,
            "q1": 411126.6372353024,
            "q3": 1190209.5658363188,
            "max": 2165345.62,
            "sd": 498346.452439751,
            "avg": 836380.0021666668
          }
        }
      }
    },
    {
      "display_name": "Job Profit",
      "field_ref": [
        "aggregation",
        5
      ],
      "base_type": "type/Decimal",
      "effective_type": "type/Decimal",
      "name": "Job Profit",
      "semantic_type": null,
      "fingerprint": {
        "global": {
          "distinct-count": 356,
          "nil%": 0.0
        },
        "type": {
          "type/Number": {
            "min": -183359.09,
            "q1": 410726.65467631037,
            "q3": 1538322.0777818982,
            "max": 3630646.85,
            "sd": 824748.1316660873,
            "avg": 1092304.4574722222
          }
        }
      }
    },
    {
      "display_name": "Margin",
      "field_ref": [
        "aggregation",
        6
      ],
      "base_type": "type/Float",
      "effective_type": "type/Float",
      "name": "Margin",
      "semantic_type": "type/GrossMargin",
      "fingerprint": {
        "global": {
          "distinct-count": 354,
          "nil%": 0.01944444444444444
        },
        "type": {
          "type/Number": {
            "min": -0.5102359242980434,
            "q1": 0.32153423011744175,
            "q3": 0.5074795856912111,
            "max": 0.9246637417542592,
            "sd": 0.12943324138649956,
            "avg": 0.4108854198534566
          }
        }
      }
    }
  ],
  "creator": {
    "email": "rfullmer@jobxcel.ai",
    "first_name": "Randy",
    "last_login": "2025-01-16T20:18:23.995076Z",
    "is_qbnewb": false,
    "is_superuser": true,
    "id": 3,
    "last_name": "Fullmer",
    "date_joined": "2024-12-11T20:51:12.035536Z",
    "common_name": "Randy Fullmer"
  },
  "database_id": 2,
  "enable_embedding": false,
  "collection_id": null,
  "query_type": "query",
  "name": "Job &  Profit Margin",
  "type": "question",
  "dataset_query": {
    "database": 2,
    "type": "query",
    "query": {
      "source-table": 23,
      "breakout": [
        [
          "field",
          305,
          {
            "base-type": "type/Text"
          }
        ],
        [
          "field",
          246,
          {
            "base-type": "type/BigInteger"
          }
        ],
        [
          "field",
          293,
          {
            "base-type": "type/Text"
          }
        ],
        [
          "field",
          283,
          {
            "base-type": "type/Text"
          }
        ],
        [
          "field",
          297,
          {
            "base-type": "type/Text"
          }
        ],
        [
          "field",
          301,
          {
            "base-type": "type/Text"
          }
        ],
        [
          "field",
          264,
          {
            "base-type": "type/Date",
            "temporal-unit": "day"
          }
        ],
        [
          "field",
          261,
          {
            "base-type": "type/Date",
            "temporal-unit": "day"
          }
        ],
        [
          "field",
          300,
          {
            "base-type": "type/Text"
          }
        ]
      ],
      "aggregation": [
        [
          "sum",
          [
            "field",
            288,
            {
              "base-type": "type/Decimal"
            }
          ]
        ],
        [
          "sum",
          [
            "field",
            284,
            {
              "base-type": "type/Decimal"
            }
          ]
        ],
        [
          "sum",
          [
            "field",
            255,
            {
              "base-type": "type/Decimal"
            }
          ]
        ],
        [
          "sum",
          [
            "field",
            273,
            {
              "base-type": "type/Decimal"
            }
          ]
        ],
        [
          "sum",
          [
            "field",
            278,
            {
              "base-type": "type/Decimal"
            }
          ]
        ],
        [
          "aggregation-options",
          [
            "-",
            [
              "sum",
              [
                "case",
                [
                  [
                    [
                      "is-null",
                      [
                        "field",
                        288,
                        {
                          "base-type": "type/Decimal"
                        }
                      ]
                    ],
                    0
                  ]
                ],
                {
                  "default": [
                    "field",
                    288,
                    {
                      "base-type": "type/Decimal"
                    }
                  ]
                }
              ]
            ],
            [
              "sum",
              [
                "case",
                [
                  [
                    [
                      "is-null",
                      [
                        "field",
                        284,
                        {
                          "base-type": "type/Decimal"
                        }
                      ]
                    ],
                    0
                  ]
                ],
                {
                  "default": [
                    "field",
                    284,
                    {
                      "base-type": "type/Decimal"
                    }
                  ]
                }
              ]
            ],
            [
              "sum",
              [
                "field",
                278,
                {
                  "base-type": "type/Decimal"
                }
              ]
            ],
            [
              "sum",
              [
                "field",
                273,
                {
                  "base-type": "type/Decimal"
                }
              ]
            ]
          ],
          {
            "name": "Job Profit",
            "display-name": "Job Profit"
          }
        ],
        [
          "aggregation-options",
          [
            "/",
            [
              "-",
              [
                "sum",
                [
                  "field",
                  288,
                  {
                    "base-type": "type/Decimal"
                  }
                ]
              ],
              [
                "sum",
                [
                  "field",
                  284,
                  {
                    "base-type": "type/Decimal"
                  }
                ]
              ],
              [
                "sum",
                [
                  "field",
                  278,
                  {
                    "base-type": "type/Decimal"
                  }
                ]
              ],
              [
                "sum",
                [
                  "field",
                  273,
                  {
                    "base-type": "type/Decimal"
                  }
                ]
              ]
            ],
            [
              "-",
              [
                "sum",
                [
                  "field",
                  288,
                  {
                    "base-type": "type/Decimal"
                  }
                ]
              ],
              [
                "sum",
                [
                  "field",
                  284,
                  {
                    "base-type": "type/Decimal"
                  }
                ]
              ]
            ]
          ],
          {
            "name": "Margin",
            "display-name": "Margin"
          }
        ]
      ]
    }
  },
  "visualization_settings": {
    "table.columns": [
      {
        "name": "job_number_job_name",
        "enabled": true
      },
      {
        "name": "job_number",
        "enabled": false
      },
      {
        "name": "job_name",
        "enabled": false
      },
      {
        "name": "client_name",
        "enabled": true
      },
      {
        "name": "job_type",
        "enabled": true
      },
      {
        "name": "job_status",
        "enabled": true
      },
      {
        "name": "project_complete_date",
        "enabled": true
      },
      {
        "name": "last_payment_received_date",
        "enabled": true
      },
      {
        "name": "sum",
        "enabled": true
      },
      {
        "name": "sum_2",
        "enabled": true
      },
      {
        "name": "sum_3",
        "enabled": true
      },
      {
        "name": "sum_4",
        "enabled": true
      },
      {
        "name": "sum_5",
        "enabled": true
      },
      {
        "name": "Job Profit",
        "enabled": true
      },
      {
        "name": "Margin",
        "enabled": true
      },
      {
        "name": "salesperson",
        "enabled": false
      }
    ],
    "table.column_formatting": [
      {
        "columns": [
          "Job Profit"
        ],
        "type": "single",
        "operator": "<",
        "value": 0,
        "color": "#EF8C8C",
        "highlight_row": true,
        "id": 1
      },
      {
        "max_value": 1,
        "color": "#509EE3",
        "columns": [
          "Margin"
        ],
        "value": "",
        "type": "range",
        "colors": [
          "#ED6E6E",
          "#FFFFFF",
          "#84BB4C"
        ],
        "highlight_row": false,
        "min_value": -1,
        "min_type": "custom",
        "id": 0,
        "operator": "=",
        "max_type": "custom"
      }
    ],
    "table.pivot_column": "client_name",
    "table.cell_column": "sum",
    "column_settings": {
      "[\"name\",\"sum\"]": {
        "column_title": "Invoice Total",
        "number_style": "currency",
        "decimals": 0,
        "currency_in_header": false
      },
      "[\"name\",\"sum_2\"]": {
        "number_style": "currency",
        "currency_in_header": false,
        "decimals": 0,
        "column_title": "Invoice Sales Tax"
      },
      "[\"name\",\"sum_4\"]": {
        "currency_in_header": false,
        "decimals": 0,
        "column_title": "Material Cost"
      },
      "[\"name\",\"sum_3\"]": {
        "number_style": "currency",
        "currency_in_header": false,
        "decimals": 0,
        "column_title": "Invoice Balance"
      },
      "[\"name\",\"sum_5\"]": {
        "column_title": "Labor Cost",
        "currency_in_header": false,
        "decimals": 0
      },
      "[\"name\",\"Job Profit\"]": {
        "number_style": "currency",
        "decimals": 0,
        "currency_in_header": false
      }
    }
  },
  "last_query_start": "2025-01-26T10:59:57.068647Z",
  "last_used_at": "2025-01-26T10:59:57.106721Z",
  "created_at": "2024-12-13T01:04:27.30401Z",
  "updated_at": "2024-12-13T15:46:39.739475Z",
  "id": 31,
  "initially_published_at": null,
  "can_write": true,
  "dashboard_count": 2,
  "average_query_time": 354.91584158415844,
  "creator_id": 3,
  "moderation_reviews": [],
  "made_public_by_id": null,
  "embedding_params": null,
  "cache_ttl": null,
  "parameter_mappings": [],
  "display": "table",
  "entity_id": "r-ZDkGqKVMZdXdhxP4Nqv",
  "collection_preview": true,
  "last-edit-info": {
    "id": 3,
    "email": "rfullmer@jobxcel.ai",
    "first_name": "Randy",
    "last_name": "Fullmer",
    "timestamp": "2024-12-13T15:46:39.753947Z"
  },
  "collection": {
    "metabase.models.collection.root/is-root?": true,
    "authority_level": null,
    "name": "Our analytics",
    "is_personal": false,
    "id": "root",
    "can_write": true
  },
  "metabase_version": "v0.50.26 (5a65f46)",
  "parameters": [],
  "parameter_usage_count": 0,
  "public_uuid": null
}